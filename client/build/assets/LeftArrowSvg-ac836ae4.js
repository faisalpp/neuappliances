import{j as e,a0 as D,a1 as a,r as d,bC as F,bD as L,b0 as T,bE as O,e as P,p as R,t as f}from"./index-888f4a2a.js";import{C as B}from"./CustomInput-797d71f6.js";const v=s=>e.jsxs("div",{className:"flex justify-start mt-3 gap-14px",children:[e.jsxs("div",{className:"max-w-[64px] relative w-full",children:[e.jsx("img",{src:s.item.image,className:"w-16 h-16 object-contain",alt:""}),e.jsx("span",{className:"absolute flex justify-center items-center text-xs font-medium w-5 h-5 rounded-full bg-b3 text-white -right-2 -top-2",children:s.count})]}),e.jsxs("div",{className:"flex items-center gap-14px",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm text-b16 font-medium tracking-032 !leading-[150%]",children:s.item.title}),s.item.rating===5?e.jsx("p",{className:"text-b25 text-xs",children:"5 Stars (Flawless Cosmetic Rating)"}):null,s.item.rating===4?e.jsx("p",{className:"text-b25 text-xs",children:"4 Stars (Flawless Cosmetic Rating)"}):null,s.item.rating===3?e.jsx("p",{className:"text-b25 text-xs",children:"3 Stars (Flawless Cosmetic Rating)"}):null]}),s.item.salePrice?e.jsxs("div",{className:"flex justify-between text-b3 text-sm font-medium",children:["$",s.item.salePrice]}):e.jsxs("div",{className:"flex justify-between text-b3 text-sm font-medium",children:["$",s.item.regularPrice]})]})]}),E=()=>{const s=D(),m=a(t=>t.cart.cartId),j=a(t=>t.order.tax),x=a(t=>t.cart.total),C=a(t=>t.cart.pickupOrders),y=a(t=>t.cart.deliveryOrders),o=a(t=>t.cart.deliveryInfo),l=a(t=>t.order.shippingInfo),S=a(t=>t.order.grandTotal);d.useEffect(()=>{s(F(x)),console.log(j)},[l,x,l==null?void 0:l.price]);function b(t){let c=new Set,N=[],w=new Set,n=0;for(const r of t)c.has(r.pid)?(w.add(r.pid),n++):(c.add(r.pid),N.push(r));return n>=1?n=n+1:n=1,{uniqueArr:N,deletedCount:n,deletedDuplicates:w}}const u=b(C),h=b(y),i=a(t=>t.order.orderInfo),[G,p]=d.useState(!1),A=async()=>{p(!0),(await s(T({cartId:m}))).payload.status,p(!1)};d.useEffect(()=>{m&&A()},[m]);const[g,k]=d.useState(""),$=()=>{if(g==="c12"){const t=parseFloat(x)-20;s(O(t))}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"max-w-full w-full h-full px-4 sm:px-11 py-14 bg-[#F9F9F9]",children:e.jsxs("div",{className:"max-w-[418px] 3xl:max-w-xl mr-auto w-full flex flex-col gap-5",children:[e.jsxs("div",{className:"flex w-full flex-col gap-6 bg-white px-4 sm:px-6 py-4",children:[h&&h.uniqueArr.map((t,c)=>e.jsx(v,{item:t,count:h.deletedCount},c)),e.jsxs("div",{className:"border border-b31 text-b32 flex gap-2 items-center p-4 text-sm",children:[e.jsx(L,{className:"text-xl text-b25 rounded-lg"}),e.jsxs("span",{children:["Delivering To ",i!=null&&i.email?`${i.address}, ${i.city}, ${i.province}, ${i.country}, ${i.postalCode}`:o==null?void 0:o.location]})]})]}),e.jsxs("div",{className:"bg-white px-6 py-4 flex flex-col gap-5",children:[u&&u.uniqueArr.map((t,c)=>e.jsx(v,{item:t,count:u.deletedCount},c)),e.jsxs("div",{className:"border border-b31 text-b32 flex gap-2 items-center p-4 text-sm",children:[e.jsx("img",{src:"/svgs/Pick-up.webp",alt:"Pick-up"}),e.jsx("span",{children:"Pick up in store George Town, Tx"})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex gap-14px items-center w-full",children:[e.jsx(B,{type:"text",state:g,setState:k,colorStyle:"border-b31 placeholder:text-b25",placeholder:"Discount code"}),e.jsx("button",{onClick:$,type:"buttton",className:"px-4 p-3 bg-b3 text-sm text-white font-medium rounded-lg",children:"Apply"})]}),e.jsx("hr",{}),e.jsxs("div",{className:"[&>*]:text-sm flex flex-col gap-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-b32",children:"Subtotal"}),e.jsxs("span",{className:"text-b16 font-medium",children:["$",x]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-b32",children:"Shipping"}),e.jsx("span",{className:"text-b16 font-medium",children:l?l==null?void 0:l.price:"*Shipping Calculated At Next Step"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-b32",children:"Taxes"}),e.jsxs("span",{className:"text-b16 font-medium",children:["$",j]})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-b16 font-medium",children:"Total"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"text-xs text-b16",children:"USD"}),e.jsxs("span",{className:"text-b3 font-semibold tracking-032 text-2xl",children:["$",S]})]})]})]})})})},M=({children:s})=>e.jsx(e.Fragment,{children:e.jsx(P,{children:e.jsx("div",{className:"grid grid-cols-1 justify-center items-center w-full h-full",children:e.jsxs("div",{className:"flex maxlg:flex-col 3xl:grid grid-cols-2 w-full h-full",children:[e.jsx("div",{className:"px-4 xs:px-10 sm:px-16 pt-14 pb-52 h-full grow w-full bg-white 2xl:max-w-[808px] 3xl:max-w-full",children:e.jsx("div",{className:"max-w-[572px] w-full lg:ml-auto",children:s})}),e.jsx(E,{})]})})})}),I=()=>{const s=R();return e.jsxs("div",{className:"flex items-center my-4",children:[e.jsx("h5",{className:"text-xs text-b3 font-medium",children:"Cart"}),e.jsx(f,{className:`text-xl text-b19 ${s.pathname==="/mycart/information"?"active":""}`}),e.jsx("h5",{className:"text-xs text-b17 font-medium",children:"Information"}),e.jsx(f,{className:"text-xl text-b19"}),e.jsx("h5",{className:"text-xs text-b17",children:"Shipping"}),e.jsx(f,{className:"text-xl text-b19"}),e.jsx("h5",{className:"text-xs text-b17",children:"Payment"})]})},Z=()=>e.jsx(e.Fragment,{children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M7.97422 15.6829C7.81589 15.6829 7.65755 15.6246 7.53255 15.4996L2.47422 10.4413C2.23255 10.1996 2.23255 9.79961 2.47422 9.55794L7.53255 4.49961C7.77422 4.25794 8.17422 4.25794 8.41589 4.49961C8.65755 4.74128 8.65755 5.14128 8.41589 5.38294L3.79922 9.99961L8.41589 14.6163C8.65755 14.8579 8.65755 15.2579 8.41589 15.4996C8.29922 15.6246 8.13255 15.6829 7.97422 15.6829Z",fill:"#22A6AB"}),e.jsx("path",{d:"M17.0836 10.625H3.05859C2.71693 10.625 2.43359 10.3417 2.43359 10C2.43359 9.65833 2.71693 9.375 3.05859 9.375H17.0836C17.4253 9.375 17.7086 9.65833 17.7086 10C17.7086 10.3417 17.4253 10.625 17.0836 10.625Z",fill:"#22A6AB"})]})});export{I as B,M as C,Z as L};
