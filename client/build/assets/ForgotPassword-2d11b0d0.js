import{u as w,f as u,r as a,j as e,i as y,T as l}from"./index-51d5f935.js";import{M as b}from"./MainLayout-1d814bef.js";import{a as E}from"./index.esm-3769a322.js";import{c as v,a as N}from"./index.esm-e9e5cd55.js";import{T as S}from"./TextInput-16790f19.js";import{B as F}from"./BtnLoader-23d5cf1c.js";import"./ScrollToTop-18281d88.js";import"./index-a38f3315.js";const _=()=>{const i=w(),f=u(s=>s.user.auth),n=u(s=>s.admin.auth);a.useEffect(()=>{if(!n&&!f)return e.jsx(e.Fragment,{children});i(n?"/admin/dashboard":"/my-account/profile")},[]);const[o,x]=a.useState(""),[c,m]=a.useState([]),[p,t]=a.useState(!1),g=v().shape({email:N().required("Email is Required!")}),h=async s=>{s.preventDefault(),t(!0);try{await g.validate({email:o},{abortEarly:!1});const r=await y({email:o});console.log(r),r.status===200?(t(!1),l(r.data.msg,"success",1e3)):(t(!1),l(r.data.message,"error",1e3))}catch(r){if(t(!1),r){let d=r.errors;m(d),d.forEach(j=>{l(j,"error",1e3)})}else m([])}};return e.jsx(e.Fragment,{children:e.jsx(b,{children:e.jsxs("div",{className:"flex flex-col space-y-10 items-center pt-20 py-32 w-full",children:[e.jsx("div",{children:e.jsx("img",{src:"login_logo.webp",alt:"login_logo"})}),e.jsxs("form",{onSubmit:h,className:"flex flex-col space-y-5 w-5/12 px-10 py-10 rounded-2xl bg-white border-[1px] border-gray-200",children:[e.jsx("h4",{className:"text-xl font-bold",children:"Forgot Password"}),e.jsx(S,{width:"full",name:"email",title:"Email",type:"text",value:o,onChange:s=>x(s.target.value),error:!!(c&&c.includes("Email is Required!")),errormessage:"Email is Required!",placeholder:"youremail@gmail.com"}),e.jsx("button",{className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-full bg-b3",children:p?e.jsx(F,{style:"w-7"}):e.jsxs("span",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Submit"}),e.jsx(E,{className:"text-2xl"})]})})]})]})})})};export{_ as default};
