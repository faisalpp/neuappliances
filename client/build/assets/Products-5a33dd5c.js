import{r as t,y as G,z as k,j as e,M as B,C as E,D as q,E as D,H as M,J as H,P as I,K as Q}from"./index-f07aa3b9.js";const J=()=>{const[d,m]=t.useState([]),[f,g]=t.useState([]),[j,h]=t.useState({}),[p,F]=t.useState({}),[l,i]=t.useState([]),[n,c]=t.useState(!1),[y,o]=t.useState(!1),[u,r]=t.useState(!1),N=G(),[S,w]=t.useState([]),P=()=>{const s=new URLSearchParams(N.search),a={};for(const[R,b]of s.entries())a[R]=b;return{isSale:!0,salePrice:{min:200,max:8e3},...a}},[v,x]=t.useState(!0),C=async s=>{r(!0);const a=await Q(s);a.status===200?(i(a.data.products),r(!1)):(r(!1),i([]))};t.useEffect(()=>{A()},[]);const A=async()=>{const s=await k();if(s.status===200){g(s.data.ratingFilters),m(s.data.categoryFilters),h(s.data.saleFilter),F(s.data.regularFilter),x(!1);const a=P();a&&C(a)}else x(!1)},L=()=>{o(!1)};return e.jsx(e.Fragment,{children:e.jsxs(B,{children:[e.jsxs("div",{className:"flex items-center mt-5 py-5 maincontainer",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h5",{className:"text-xs text-blue-400",children:"Home"}),e.jsx(E,{className:"text-xl text-gray-500"}),e.jsx("h5",{className:"text-xs text-gray-400",children:"Products"})]}),e.jsxs("div",{className:"flex items-center space-x-5 w-full justify-end",children:[e.jsx(q,{className:"cursor-pointer",onClick:()=>c(!0)}),e.jsx(D,{className:"cursor-pointer",onClick:()=>c(!1)})]}),e.jsxs("button",{className:"ml-5 text-sm font-semibold flex gap-2 items-center lg:hidden",onClick:()=>o(!0),children:["Filters ",e.jsx(M,{className:"text-xs stroke-1"})]})]}),e.jsxs("div",{className:"flex justify-center gap-12 xl:gap-x-60px maincontainer",children:[e.jsx(H,{loading:v,query:S,setQuery:w,saleFilter:j,regularFilter:p,categoriesFilters:d,ratingFilters:f,onClose:L,isFilter:y}),e.jsxs("div",{className:`grid ${n?"lg:grid-cols-3 grid-cols-1 lg:gap-x-2":"grid-cols-1"} gap-y-5 mb-10 w-full`,children:[u?e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsx("img",{src:"/loader2.gif",className:"w-20 h-20"})}):null,(l==null?void 0:l.length)>0?null:e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsx("img",{src:"/not-found.webp",className:"w-40 h-40"})}),(l==null?void 0:l.length)>0&&!u?l.map((s,a)=>e.jsx(I,{product:s,isGrid:n},a)):null]})]})]})})};export{J as default};
