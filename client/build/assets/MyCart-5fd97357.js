import{a3 as d,u as T,j as e,b as E,z as R,a2 as F,r as p,H as A,n as L,a$ as Z,aT as I,i as z,b0 as V,b1 as B,b2 as G,b3 as J,e as U,t as W,b4 as Y,b5 as q}from"./index-19898fbb.js";import{L as K}from"./Loader2-604a180d.js";const Q=s=>{const a=d(c=>c.cart.deliveryInfo),l=d(c=>c.cart.deliveryOrders),r=d(c=>c.cart.pickupOrders),x=(l==null?void 0:l.length)>0,o=(r==null?void 0:r.length)>0,u=T(),n=c=>{c.preventDefault(),x&&!o||!x&&o?u("/mycart/information"):R("Select Delivery Or Pickup Only!","error",1e3)};return e.jsxs("div",{className:"border border-b26 rounded px-5 py-10 md:p-10 flex flex-col gap-6",children:[e.jsx("h2",{className:"text-b16 font-bold text-xl",children:"Order Summary"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[s.cartCount," Items"]}),e.jsxs("span",{children:["$",s.total]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Delivery Fee"}),e.jsx("span",{children:l.length>0?`$${a==null?void 0:a.shipping}`:"Free"})]}),e.jsx("hr",{className:"border-[rgba(0,0,0,0.08)]"}),e.jsxs("div",{className:"flex justify-between p-2",children:[e.jsx("span",{children:"Order Total"}),e.jsx("span",{className:"text-2xl",children:"-"})]}),e.jsxs("button",{type:"button",onClick:c=>n(c),className:"px-4 py-3 flex gap-2 justify-center text-xs rounded-lg bg-b3 text-white font-semibold",children:[e.jsx("span",{children:"Proceed to Checkout"}),e.jsx(E,{className:"text-base"})]})]})},X=()=>e.jsx(e.Fragment,{children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("g",{id:"bag-tick",children:e.jsx("g",{id:"vuesax/outline/bag-tick",children:e.jsxs("g",{id:"bag-tick_2",children:[e.jsx("path",{id:"Vector",d:"M7.4124 12.1667C7.28573 12.1667 7.15906 12.12 7.05906 12.02L6.05906 11.02C5.86573 10.8267 5.86573 10.5067 6.05906 10.3134C6.2524 10.12 6.5724 10.12 6.76573 10.3134L7.42573 10.9734L9.23906 9.30002C9.43906 9.11336 9.75906 9.12669 9.94573 9.32669C10.1324 9.52669 10.1191 9.84669 9.91906 10.0334L7.7524 12.0334C7.65906 12.12 7.53906 12.1667 7.4124 12.1667Z",fill:"white"}),e.jsx("path",{id:"Vector_2",d:"M3.45927 4.25329C3.3326 4.25329 3.19927 4.19996 3.10594 4.10663C2.9126 3.91329 2.9126 3.59329 3.10594 3.39996L5.52594 0.979961C5.71927 0.786628 6.03927 0.786628 6.2326 0.979961C6.42594 1.17329 6.42594 1.49329 6.2326 1.68663L3.8126 4.10663C3.7126 4.19996 3.58594 4.25329 3.45927 4.25329Z",fill:"white"}),e.jsx("path",{id:"Vector_3",d:"M12.5394 4.25329C12.4128 4.25329 12.2861 4.20663 12.1861 4.10663L9.76609 1.68663C9.57276 1.49329 9.57276 1.17329 9.76609 0.979961C9.95943 0.786628 10.2794 0.786628 10.4728 0.979961L12.8928 3.39996C13.0861 3.59329 13.0861 3.91329 12.8928 4.10663C12.7994 4.19996 12.6661 4.25329 12.5394 4.25329Z",fill:"white"}),e.jsx("path",{id:"Vector_4",d:"M13.472 7.06706C13.4254 7.06706 13.3787 7.06706 13.332 7.06706H13.1787H2.66536C2.1987 7.07372 1.66536 7.07372 1.2787 6.68706C0.972031 6.38706 0.832031 5.92039 0.832031 5.23372C0.832031 3.40039 2.17203 3.40039 2.81203 3.40039H13.1854C13.8254 3.40039 15.1654 3.40039 15.1654 5.23372C15.1654 5.92706 15.0254 6.38706 14.7187 6.68706C14.372 7.03372 13.9054 7.06706 13.472 7.06706ZM2.81203 6.06706H13.3387C13.6387 6.07372 13.9187 6.07372 14.012 5.98039C14.0587 5.93372 14.1587 5.77372 14.1587 5.23372C14.1587 4.48039 13.972 4.40039 13.1787 4.40039H2.81203C2.0187 4.40039 1.83203 4.48039 1.83203 5.23372C1.83203 5.77372 1.9387 5.93372 1.9787 5.98039C2.07203 6.06706 2.3587 6.06706 2.65203 6.06706H2.81203Z",fill:"white"}),e.jsx("path",{id:"Vector_5",d:"M9.92585 15.1665H5.90585C3.51919 15.1665 2.98585 13.7465 2.77919 12.5132L1.83919 6.7465C1.79252 6.47317 1.97919 6.21984 2.25252 6.17317C2.51919 6.1265 2.77919 6.31317 2.82585 6.5865L3.76585 12.3465C3.95919 13.5265 4.35919 14.1665 5.90585 14.1665H9.92585C11.6392 14.1665 11.8325 13.5665 12.0525 12.4065L13.1725 6.57317C13.2259 6.29984 13.4859 6.11984 13.7592 6.17984C14.0325 6.23317 14.2059 6.49317 14.1525 6.7665L13.0325 12.5998C12.7725 13.9532 12.3392 15.1665 9.92585 15.1665Z",fill:"white"})]})})})})}),ee=()=>e.jsx(e.Fragment,{children:e.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("g",{id:" Shipment",children:e.jsx("path",{id:"Shipment Icon","fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 2.77777C0 2.34822 0.338199 2 0.755389 2H9.90371C10.3209 2 10.6591 2.34822 10.6591 2.77777V2.88909H14.4701C14.7274 2.88909 14.9669 3.0239 15.1059 3.24684L17.8804 7.69905C17.9585 7.82438 18 7.97016 18 8.11907V13.4445C18 13.6508 17.9204 13.8487 17.7787 13.9945C17.6371 14.1404 17.4449 14.2223 17.2446 14.2223L16.0211 14.2223C15.6834 15.2739 14.6796 16 13.554 16C12.434 16 11.4345 15.2811 11.092 14.2379L6.85491 14.2377C6.51244 15.281 5.51297 16 4.39287 16C3.26723 16 2.26341 15.2739 1.92579 14.2222L0.755332 14.2221C0.338165 14.2221 0 13.8739 0 13.4443V2.77777ZM1.92582 12.6666C2.26347 11.615 3.26726 10.8889 4.39287 10.8889C5.52402 10.8889 6.53215 11.6222 6.86486 12.6822H9.14831L9.14823 8.13028C9.14818 8.12648 9.14815 8.12267 9.14815 8.11886C9.14815 8.11506 9.14818 8.11127 9.14823 8.10748L9.14815 3.66688C9.14815 3.66128 9.14821 3.6557 9.14832 3.65012V3.55555H1.51078V12.6666L1.92582 12.6666ZM10.6591 12.6823V8.89664H16.4892V12.6667L16.0211 12.6667C15.6835 11.6151 14.6797 10.8889 13.554 10.8889C12.4228 10.8889 11.4147 11.6223 11.082 12.6823L10.6591 12.6823ZM15.8623 7.34109L14.0573 4.44463H10.6591V7.34109H15.8623ZM4.39287 12.4445C3.75519 12.4445 3.31596 12.9351 3.31596 13.4445C3.31596 13.9538 3.75519 14.4445 4.39287 14.4445C5.03056 14.4445 5.46979 13.9538 5.46979 13.4445C5.46979 12.9351 5.03056 12.4445 4.39287 12.4445ZM13.554 12.4445C12.9163 12.4445 12.4771 12.9351 12.4771 13.4445C12.4771 13.9538 12.9163 14.4445 13.554 14.4445C14.1917 14.4445 14.6309 13.9538 14.6309 13.4445C14.6309 12.9351 14.1917 12.4445 13.554 12.4445Z",fill:"black"})})})}),se=()=>e.jsx(e.Fragment,{children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{id:" Pick-up","clip-path":"url(#clip0_2_35670)",children:e.jsx("path",{id:"Store Icon","fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.85624 0.506237C2.01152 0.195543 2.32413 0 2.66555 0H15.156C15.4952 0 15.8062 0.19307 15.9625 0.500712L17.7468 4.01272C17.8147 4.1463 17.8498 4.29473 17.849 4.44523C17.8427 5.73396 17.6032 6.86873 16.9855 7.69811C16.7209 8.05335 16.4057 8.32821 16.0509 8.52956V17.0228C16.0509 17.5357 15.644 17.9514 15.1421 17.9514H2.66579C2.16391 17.9514 1.75706 17.5357 1.75706 17.0228V8.5334C1.39723 8.33154 1.07846 8.05454 0.813012 7.69422C0.195685 6.85625 -0.0220397 5.71284 0.0017373 4.42307C0.00433454 4.28218 0.0382791 4.14374 0.100999 4.01825L1.85624 0.506237ZM3.57453 8.96271V16.0943H6.25927V11.7107C6.25927 11.1979 6.66612 10.7822 7.168 10.7822H10.6558C11.1576 10.7822 11.5645 11.1979 11.5645 11.7107V16.0943H14.2334V8.96264C13.155 8.95569 12.2149 8.57796 11.5645 7.73567C10.9182 8.58232 9.98114 8.96274 8.90364 8.96274C7.83603 8.96274 6.90634 8.58935 6.25927 7.76035C5.60631 8.59434 4.65727 8.95898 3.57453 8.96271ZM7.22045 5.36882C7.31106 5.935 7.47125 6.32186 7.65884 6.57439C7.90001 6.89905 8.263 7.10566 8.90364 7.10566C9.54436 7.10566 9.90554 6.89909 10.1447 6.57582C10.3314 6.3235 10.4905 5.93631 10.5794 5.36882H7.22045ZM12.543 5.36882H15.9672C15.8834 5.93744 15.7256 6.32316 15.5392 6.57346C15.3006 6.89376 14.9309 7.10566 14.2638 7.10566C13.5969 7.10566 13.2229 6.89372 12.9798 6.57018C12.7912 6.31935 12.631 5.93438 12.543 5.36882ZM15.9625 4.01825L14.6038 1.85708H3.22185L1.86013 4.01825H15.9625ZM1.86013 5.36882C1.9309 5.94449 2.08295 6.33015 2.26506 6.57736C2.4945 6.8888 2.8646 7.10566 3.55772 7.10566C4.2505 7.10566 4.62566 6.8888 4.8605 6.57348C5.04513 6.32557 5.20002 5.94078 5.27584 5.36882H1.86013ZM9.74704 16.0943V12.6393H8.07674V16.0943H9.74704Z",fill:"#737373"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_2_35670",children:e.jsx("rect",{width:"18",height:"18",fill:"white"})})})]})}),O=({order:s,type:a,indx:l,changeType:r})=>{const x=({numberOfTimes:t})=>{const g=Array.from({length:t},(f,w)=>e.jsx(z,{className:"text-b7 text-lg"},w));return e.jsx("div",{className:"flex mt-2 items-center",children:g})},o=F(),u=d(t=>t.cart.cartId),n=async t=>{if(t.target.checked){console.log("change form delivery to pickup");const g={cartId:u,objId:s._id,type:"delivery"};(await o(V(g))).payload.status===200&&r()}},c=async t=>{if(t.target.checked){const g={cartId:u,objId:s._id,type:"pickup"};(await o(V(g))).payload.status===200&&r()}},i=d(t=>t.cart.total),j=d(t=>t.cart.cartCount),[N,v]=p.useState(!1),S=async(t,g,f,w,m,h,b,D,y)=>{t.preventDefault(),console.log("test"),v({index:g,type:h});const k={cartId:f,pId:w,type:h,price:b,count:D,total:y,objId:m};console.log(k);const C=await o(B(k));C.payload.status===200?(v({index:"",type:""}),Toast(C.payload.msg,"success",1e3)):(v({index:"",type:""}),Toast(C.payload.message,"error",1e3))},H=s.salePrice?s.salePrice:s.regPrice;return e.jsxs("div",{className:"relative grid grid-cols-1 md:grid-cols-[160px_1fr] gap-5 3xl:gap-10 p-4 sm:p-6 rounded-2xl border border-[0px_10px_60px_0px_rgba(0,0,0,0.10)] shadow-[0px_10px_60px_0px_rgba(0,0,0,0.10)]",children:[e.jsx("div",{children:e.jsx("img",{src:"/cart/mycart.webp",className:"w-40 h-40",alt:""})}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-b18 text-sm sm:text-base md:text-lg lg:text-xl md:leading-6 font-semibold",children:s.title}),e.jsxs("div",{className:"flex  gap-2 maxmd:justify-between items-center",children:[e.jsxs("div",{className:"py-[10px] bg-b13 px-4 rounded-full text-white inline-flex gap-2 items-center",children:[e.jsx(X,{}),e.jsx("span",{className:" font-semibold text-[12.408px] sm:text-sm",children:"In Stock"})]}),e.jsx("span",{className:"text-[12.408px] font-medium text-[rgba(0,0,0,0.64)]",children:"Only 2 left"})]}),e.jsxs("div",{className:"flex maxlg:flex-col justify-between gap-2 lg:items-center",children:[e.jsxs("div",{className:"flex maxsm:flex-wrap gap-4 items-center",children:[e.jsxs("span",{className:"text-xl text-b3 font-semibold",children:["$",s.salePrice?s.salePrice:s.regPrice]}),s.salePrice?e.jsx("span",{className:"text-lg text-b25",children:e.jsxs("strike",{children:["$",s.regPrice]})}):null,s.salePrice?e.jsxs("span",{className:"flex items-center whitespace-nowrap px-3 py-2 bg-b4 text-sm font-semibold rounded-full",children:["- ",(100-s.salePrice/s.regPrice*100).toFixed(0),"%"]}):null]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx("span",{className:"text-[rgba(36,36,36,0.50)] text-sm font-semibold",children:"Cosmetic Rating"}),e.jsx("span",{children:e.jsx(A,{color:"text-b3"})})]}),e.jsx("div",{className:"inline-flex items-center",children:e.jsx(x,{numberOfTimes:s.rating})})]})]}),e.jsxs("div",{className:"flex maxcosm:flex-col maxxs:justify-between sm:gap-10",children:[e.jsx(L.Radio,{id:`delivery-${a}-${l}`,icon:e.jsx(Z,{className:"w-[18px] h-[18px]"}),className:"border border-[#D9D9D9] bg-white p-0 w-[18px] h-[18px]",ripple:!1,name:`delivery-${a}-${l}`,label:e.jsxs(L.Typography,{className:"font-medium text-sm text-b16 flex gap-4",children:[e.jsx(ee,{}),e.jsx("span",{children:"Delivery"})]}),defaultChecked:a==="delivery",onChange:t=>c(t)}),e.jsx(L.Radio,{id:`pickup-${a}-${l}`,icon:e.jsx(Z,{className:"w-[18px] h-[18px]"}),className:"border border-[#D9D9D9] bg-white w-[18px] h-[18px] p-0",ripple:!1,name:`delivery-${a}-${l}`,label:e.jsxs(L.Typography,{className:"font-medium text-sm text-b16 flex gap-4",children:[e.jsx(se,{}),e.jsx("span",{children:"Pickup"})]}),defaultChecked:a==="pickup",onChange:t=>n(t)})]})]}),e.jsx("div",{children:N.index===l&&N.type===a?e.jsx("button",{type:"button",className:"maxcosm:absolute top-4 right-4 z-10 flex items-center justify-center w-10 h-10 p-2 bg-b8 rounded-full",children:e.jsx(I,{className:"text-red-500 text-base"})}):e.jsx("button",{type:"button",onClick:t=>S(t,l,u,s.pid,s._id,a,H,j,i),className:"maxcosm:absolute top-4 right-4 z-10 flex items-center justify-center w-10 h-10 p-2 bg-b8 rounded-full",children:e.jsx(I,{className:"text-b3 text-base"})})})]})]})},te=({orders:s,refresh:a,loading:l})=>{const[r,x]=p.useState(!1),o=p.useRef(null);p.useEffect(()=>{const m=h=>{o.current&&!o.current.contains(h.target)&&x(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const u=()=>{x(!r)},n=d(m=>m.cart.deliveryInfo),[c,i]=p.useState(new Date("2023/05/10")),[j,N]=p.useState([]),[v,S]=p.useState(""),[H,t]=p.useState(null),[g,f]=p.useState(!1),w=async()=>{f(!0);const m=await J({zip:n.location});if(console.log(m),m.status==200){f(!1);let h=[],b=[];m.data.zip.slots.forEach(D=>{let y=new Date(D.date);h.push(y);const k=["January","February","March","April","May","June","July","August","September","October","November","December"],C=y.getMonth(),M=y.getDate(),_=k[C];let P=`${_} ${M+1} - ${D.timeframe}`;b.filter($=>$.id.day===M&&$.id.month+1===_).length>0?b.push({id:`${getFirstFrame[0].id}`,timeFrame:P}):b.push({id:`${C+1}-${M+1}`,timeFrame:P})}),t(h),N(b)}};return p.useEffect(()=>{n&&w()},[]),e.jsxs("div",{className:"border border-b26 rounded p-4 sm:p-5 md:p-10 grid grid-cols-1 gap-8",children:[e.jsx("h2",{className:"text-b16 font-bold text-xl maxmd:text-center",children:"Delivery Orders"}),s.map((m,h)=>e.jsx(O,{chk:l,indx:h,order:m,type:"delivery",changeType:a},h)),e.jsxs("div",{ref:o,className:"relative",children:[g?null:e.jsxs("button",{onClick:u,className:"w-full border border-[#D9D9D9] p-4 rounded-lg flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[18px] h-[18px]",children:e.jsx("img",{src:"/svgs/calendar_month.webp",alt:"calendar_month"})}),e.jsx("span",{className:"text-xs font-medium text-b3",children:"Select Time-slot"})]}),e.jsxs("div",{className:"font-semibold text-sm text-b3",children:["$",n==null?void 0:n.shipping]})]}),r&&e.jsx(G,{frames:j,timeSlot:v,setTimeSlot:S,selectDate:c,setSelectDate:i,dates:H})]})]})},ae=({orders:s,refresh:a})=>e.jsxs("div",{className:"border border-b26 rounded p-5 md:p-10 grid grid-cols-1 gap-8",children:[e.jsx("h2",{className:"text-b16 font-bold text-xl",children:"Pickup Orders"}),s.map((l,r)=>e.jsx(O,{indx:r,order:l,type:"pickup",changeType:a},r)),e.jsxs("div",{className:"w-full border border-[#D9D9D9] p-4 rounded-lg flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-[18px] h-[18px]",children:e.jsx("img",{src:"/svgs/Pick-up.webp",alt:"Pick-up"})}),e.jsx("span",{className:"text-sm text-[#545454]",children:"Warehouse Georgetown, Tx"})]}),e.jsx("div",{className:"leading-[-0.2px] text-sm text-b3",children:"Free"})]})]}),ie=()=>{const s=d(i=>i.cart.cartId),a=d(i=>i.cart.cartCount),l=d(i=>i.cart.total),r=d(i=>i.cart.pickupOrders),x=d(i=>i.cart.deliveryOrders);d(i=>i.cart.deliveryInfo);const o=F(),[u,n]=p.useState(!1),c=async()=>{n(!0);const j=await o(q({cartId:s}));console.log(j),j.payload.status,n(!1)};return p.useEffect(()=>{s&&c()},[s]),e.jsx(e.Fragment,{children:u?e.jsx(K,{}):e.jsxs(U,{children:[e.jsxs("div",{className:"pt-10 pb-10 w-full 3xl:max-w-1680px px-4 md:px-10 lg:px-16 xl:px-20 2xl:px-120px mx-auto",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h5",{className:"text-xs text-b3",children:"Home"}),e.jsx(W,{className:"text-xl text-b19"}),e.jsx("h5",{className:"text-xs text-[#5E5E5E]",children:"Cart"})]}),e.jsx("h1",{className:"text-b18 font-bold text-32px lg:text-40px mt-4",children:"My Cart"})]}),x.length>0||r.length>0?e.jsx("div",{className:"pb-10 lg:pb-16 xl:pb-20 w-full 3xl:max-w-1680px px-4 md:px-10 lg:px-16 xl:px-20 2xl:px-120px mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 coxxl:grid-cols-[1fr_360px] 3xl:grid-cols-[1fr_440px] gap-10",children:[e.jsxs("div",{className:"order-2 coxxl:order-none",children:[x&&x.length>0?e.jsx(te,{orders:x,refresh:c}):null,r&&r.length>0?e.jsx(ae,{orders:r,refresh:c}):null,e.jsx("hr",{className:"my-6 border-[rgba(0,0,0,0.08)]"}),e.jsxs("div",{className:"w-full flex justify-between items-center",children:[e.jsxs("span",{className:"text-base sm:text-xl text-black font-semibold",children:["Subtotal (",a," Items):"]}),e.jsxs("div",{className:"text-2xl sm:text-32px font-semibold",children:["$",l]})]})]}),e.jsx("div",{children:e.jsx(Q,{cartCount:a,total:l})})]})}):e.jsxs("div",{className:"flex flex-col px-2 mt-10 mb-24 space-y-5 w-full justify-center items-center h-full",children:[e.jsx("img",{src:"/bag.webp"}),e.jsx("h1",{className:"font-extrabold",children:"Your Cart is Empty"}),e.jsx("h2",{className:"text-center",children:"Lorem Ipsum Doller Sit Amet, Consecture Audipicsing Elit"}),e.jsxs("button",{type:"button",className:"xy-center rounded-lg bg-b3 py-3 text-white font-medium w-2/12 text-sm",children:[e.jsx(Y,{className:"mr-2"})," Start Shopping"]})]})]})})};export{ie as default};
