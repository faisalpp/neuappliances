import{r as s,j as e,Q as b}from"./index-9086772f.js";import{A as B}from"./AdminAccount-c0a1c178.js";import{a as N}from"./index.esm-d1123c14.js";/* empty css                      */import{B as E}from"./BlogEditor-a35ec26e.js";import{T as w}from"./TextInput-6ff12c7c.js";import{T as H}from"./TextAreaInput-39f5d958.js";import{S as A}from"./SelectInput-abd85457.js";import{c as O,a as l}from"./index.esm-667a8c3e.js";import{c as I}from"./helpSupport-75f26757.js";import{g as P}from"./helpSupportTab-068fadc2.js";import"./MainLayout-9f08b4ec.js";import"./ScrollToTop-9454a300.js";import"./index-57df3b0a.js";import"./index-da41181b.js";const Y=()=>{const v=O().shape({title:l().required("Title is required"),slug:l().required("Slug is required"),shortDescription:l().required("Short Description is required"),category:l().required("Blog Category is required"),content:l().required("Blog Content is required")}),[r,d]=s.useState([]),[C,i]=s.useState(!1),[n,g]=s.useState(""),[u,f]=s.useState(""),[p,x]=s.useState(""),[h,S]=s.useState(""),[m,y]=s.useState(""),q=async t=>{t.preventDefault(),i(!0);try{const a={title:n,slug:u,shortDescription:p,category:h,content:m},o=new FormData;o.set("title",n),o.set("slug",u),o.set("shortDescription",p),o.set("category",h),o.set("content",m),await v.validate(a,{abortEarly:!1});const c=await I(o);console.log(c),c.status===200?(i(!1),b.success(c.data.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),g(""),f(""),y(""),x("")):(i(!1),b.error(c.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))}catch(a){console.log(a),i(!1),d(a?a.errors:[])}},[T,j]=s.useState([]),D=async()=>{const t=await P();t.status===200?(j(t.data.helpTabs),S(t.data.helpTabs[0].title.toLowerCase().replace(/\s/g,"-"))):j([])};return s.useEffect(()=>{D()},[]),e.jsx(e.Fragment,{children:e.jsx(B,{children:e.jsxs("form",{onSubmit:q,className:"flex flex-col space-y-5 w-full py-5 bg-white",children:[e.jsxs("div",{className:"flex w-full",children:[e.jsxs("div",{className:"flex flex-col space-y-10 w-1/2",children:[e.jsx(w,{width:"full",name:"title",title:"Blog Title",iscompulsory:"true",type:"text",value:n,onChange:t=>{g(t.target.value),f(t.target.value.toLowerCase().replace(/\s/g,"-").replace(/\./g,""))},error:!!(r&&r.includes("Title is required")),errormessage:"Title is required",placeholder:"Enter Blog Title"}),e.jsx(w,{width:"full",name:"slug",title:"Blog Slug",readOnly:!0,iscompulsory:"true",type:"text",value:u,error:!!(r&&r.includes("Slug is required")),errormessage:"Slug is required",placeholder:"Enter Blog Slug"})]}),e.jsxs("div",{className:"flex flex-col space-y-8 items-center w-1/2",children:[e.jsx("div",{className:"flex flex-col items-center space-x-5 w-full",children:e.jsx(A,{name:"categor",title:"Select Category",iscompulsory:"true",onChange:t=>S(t.target.value),options:T})}),e.jsx("div",{className:"flex flex-col items-center space-x-5 w-72",children:e.jsx(H,{name:"description",title:"Description",iscompulsory:"true",type:"text",value:p,onChange:t=>x(t.target.value),error:!!(r&&r.includes("Short Description is required")),errormessage:"Short Description is required",placeholder:"Enter Product Description"})})]})]}),e.jsx(E,{state:m,setState:y}),e.jsx("button",{type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-full bg-b3",children:C?e.jsx("img",{src:"/loader-bg.gif",className:"w-8"}):e.jsxs("a",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Create"}),e.jsx(N,{className:"text-2xl"})]})})]})})})};export{Y as default};
