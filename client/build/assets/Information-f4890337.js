import{j as e,a1 as p,u as ee,r as t,a0 as se,L as H,br as n,n as J,bz as te,bA as ae,z as re,bB as le}from"./index-888f4a2a.js";import{C as ie,B as ne,L as oe}from"./LeftArrowSvg-ac836ae4.js";import{c as ce,a as l}from"./index.esm-917d4cc0.js";import"./CustomInput-797d71f6.js";const de=()=>e.jsx(e.Fragment,{children:e.jsxs("svg",{width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("g",{id:" caret-down","clip-path":"url(#clip0_444_24184)",children:e.jsx("path",{id:"Vector",d:"M0.332031 2.5H10.332L5.33203 7.5",fill:"#737373"})}),e.jsx("defs",{children:e.jsx("clipPath",{id:"clip0_444_24184",children:e.jsx("rect",{width:"10",height:"10",fill:"white",transform:"translate(0.332031)"})})})]})}),M=({label:x,id:u,Options:h,setState:f})=>e.jsxs("div",{className:"relative",children:[e.jsx("select",{id:u,onChange:c=>f(c.target.value),className:"w-full border border-b31 px-[11px] pt-[19px] pb-1 outline-none appearance-none rounded-lg text-sm text-b16 font-medium",children:h.map((c,r)=>e.jsx("option",{value:c.value,children:c.name},r))}),e.jsx("label",{htmlFor:u,className:"absolute top-[5px] text-xs text-b25 left-[11px]",children:x}),e.jsx("div",{className:"absolute top-0 bottom-0 h-full flex items-center justify-end right-3",children:e.jsx("div",{className:"pl-3 py-[5px] border-l border-b31",children:e.jsx(de,{})})})]}),fe=()=>{const x=[{name:"Canada",value:"canada"},{name:"China",value:"china"},{name:"Japan",value:"japan"},{name:"Pakistan",value:"pakistan"}],u=[{name:"Alberta",value:"alberta"},{name:"Alberta",value:"alberta"},{name:"Alberta",value:"alberta"},{name:"Alberta",value:"alberta"}],h=ce().shape({email:l().required("Email is Required!"),firstName:l().nullable(),lastName:l().required("Last Name is Required!"),address:l().required("Address is Required!"),appartment:l().nullable(),city:l().required("City is Required!"),country:l().required("Country is Required!"),province:l().required("Province is Required!"),postalCode:l().required("Postal Code is Required!"),phone:l().required("Phone is Required!")}),f=p(s=>s.cart.deliveryOrders),c=p(s=>s.cart.pickupOrders),r=p(s=>s.order.orderInfo),b=ee();f.length===0&&c.length===0&&b("/mycart");const d=p(s=>s.cart.deliveryInfo),[g,j]=t.useState(""),[v,y]=t.useState(!1),[N,C]=t.useState(""),[w,q]=t.useState(""),[R,S]=t.useState(""),[k,A]=t.useState(""),[P,E]=t.useState(""),[Q,L]=t.useState("Canada"),[G,F]=t.useState("Alberta"),[O,_]=t.useState(d!=null&&d.location?d==null?void 0:d.location:""),[B,U]=t.useState(""),[T,I]=t.useState(!1),[D,W]=t.useState("");t.useEffect(()=>{const s=new URLSearchParams(location.search),i={};for(const[o,m]of s.entries())i[o]=m;W(i.callback)},[]),t.useEffect(()=>{D==="change-info"&&(j(r.email),y(r.keepUpdates),C(r.firstName),q(r.lastName),S(r.address),A(r.appartment),E(r.city),L(r.country),F(r.province),_(r.postalCode),U(r.phone),I(!!r.saveAddress),console.log(r.saveAddress))},[D]);const[a,z]=t.useState([]),[K,ue]=t.useState(!1),V=se(),$=s=>{const{name:i,checked:o}=s.target;i==="keepUpdates"&&y(o),i==="saveAddress"&&I(o)},X=async s=>{s.preventDefault();const i={email:g,firstName:N,lastName:w,address:R,appartment:k,city:P,country:Q,postalCode:O,phone:B,saveAddress:T,keepUpdates:v,province:G};try{await h.validate(i,{abortEarly:!1}),V(ae(i)),b("/mycart/shipping")}catch(o){if(o){let m=o.errors;z(m),m.forEach(Z=>{re(Z,"error",1e3)})}else z([])}},Y=()=>{V(le(8.25))};return t.useEffect(()=>{Y()},[]),e.jsx(e.Fragment,{children:e.jsxs(ie,{children:[e.jsx(H,{to:"/",children:e.jsx("img",{src:"/login_logo.webp",alt:""})}),e.jsx(ne,{}),e.jsxs("fieldset",{className:"border border-b31 rounded-md pb-5 px-5 pt-2",children:[e.jsx("legend",{className:"mx-auto text-b16 font-medium text-sm px-3",children:"Express checkout"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("button",{className:"rounded text-white flex justify-center p-3 bg-[#5A31F4]",children:e.jsx("img",{src:"/payment/shoppay.webp",alt:"shoppay",className:"h-[23px] object-contain"})}),e.jsx("button",{className:"rounded text-white flex justify-center p-3 bg-[#113984]",children:e.jsx("img",{src:"/payment/paypal.webp",alt:"shoppay",className:"h-[23px] object-contain"})}),e.jsx("button",{className:"rounded text-white flex justify-center p-3 bg-black",children:e.jsx("img",{src:"/payment/pay.webp",alt:"shoppay",className:"h-[23px] object-contain"})})]})]}),e.jsx("div",{className:"text_between_line my-8",children:"OR"}),e.jsxs("form",{onSubmit:X,children:[e.jsxs("div",{className:"space-y-14px [&>*]:text-b16 [&>*]:text-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-b16",children:"Contact information"}),e.jsx(n,{width:"full",name:"Email",title:"Email",iscompulsory:"false",type:"text",value:g,onChange:s=>j(s.target.value),error:!!(a&&a.includes("Email is Required!")),errormessage:"Email is Required!",placeholder:"abc@gmail.com"}),e.jsx(J.Checkbox,{onChange:s=>$(s),defaultChecked:!!v,name:"keepUpdates",id:"keep-me-update",label:"Keep me up to date on news and exclusive offers",className:"checked:bg-black border-b31",ripple:!1})]}),e.jsxs("div",{className:"space-y-14px mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-b16",children:"Shipping address"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(n,{width:"full",name:"firstName",title:"",iscompulsory:"false",type:"text",value:N,onChange:s=>C(s.target.value),error:!!(a&&a.includes("First Name is Required!")),errormessage:"First Name is Required!",placeholder:"First Name (optional)"}),e.jsx(n,{width:"full",name:"lastName",title:"",iscompulsory:"false",type:"text",value:w,onChange:s=>q(s.target.value),error:!!(a&&a.includes("Last Name is Required!")),errormessage:"Last Name is Required!",placeholder:"Last Name"}),e.jsxs("div",{className:"col-span-2 space-y-3",children:[e.jsx(n,{width:"full",name:"address",title:"",iscompulsory:"false",type:"text",value:R,onChange:s=>S(s.target.value),error:!!(a&&a.includes("Address is Required!")),errormessage:"Address is Required!",placeholder:"Address"}),e.jsx(n,{width:"full",name:"appartment",title:"",iscompulsory:"false",type:"text",value:k,onChange:s=>A(s.target.value),error:!!(a&&a.includes("Apartment, suite is Required!")),errormessage:"Apartment, suite is Required!",placeholder:"Apartment, suite, etc. (optional)"}),e.jsx(n,{width:"full",name:"city",title:"",iscompulsory:"false",type:"text",value:P,onChange:s=>E(s.target.value),error:!!(a&&a.includes("City is Required!")),errormessage:"City is Required!",placeholder:"City"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-14px",children:[e.jsx(M,{setState:L,id:"country_region",label:"Country / region",Options:x}),e.jsx(M,{setState:F,id:"province",label:"Province",Options:u}),e.jsx("div",{className:"col-span-2 md:col-span-1 [&>*]:h-full",children:e.jsx(n,{width:"full",name:"postalCode",title:"",iscompulsory:"false",type:"text",value:O,onChange:s=>_(s.target.value),error:!!(a&&a.includes("Postal Code is Required!")),errormessage:"Postal Code is Required!",placeholder:"Postal Code"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{width:"full",name:"phone",title:"",iscompulsory:"false",type:"text",value:B,onChange:s=>U(s.target.value),error:!!(a&&a.includes("Phone is Required!")),errormessage:"Phone is Required!",placeholder:"Phone"}),e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx(te,{className:"text-2xl text-b3"})})]}),e.jsx("div",{className:"[&>*]:text-b16 [&>*]:text-sm",children:e.jsx(J.Checkbox,{onChange:s=>$(s),id:"save-information",name:"saveAddress",defaultChecked:!!T,label:"Save this information for next time",className:"checked:bg-black border-b31",ripple:!1})})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center w-full mt-5",children:[e.jsxs(H,{to:"/mycart",className:"flex gap-1 items-center",children:[e.jsx(oe,{}),e.jsx("span",{className:"text-sm font-medium text-b3",children:"Return to Cart"})]}),e.jsxs("button",{type:"submit",disabled:!!K,className:"flex items-center py-3 px-6 text-xs rounded-lg bg-b3 text-white",children:["Continue to Shipping ",K?e.jsx("img",{src:"/loader-bg.gif",className:"ml-2 w-4 h-4"}):null]})]})]})]})})};export{fe as default};
