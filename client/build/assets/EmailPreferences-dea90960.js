import{j as s,r as d,f as p,T as r}from"./index-8fa978d7.js";import{M as g}from"./MyAccount-881230fc.js";import{r as j}from"./ScrollToTop-377155f7.js";import{h as b,i as f}from"./profile-3ffce1bf.js";import"./MainLayout-e7ebb6b6.js";import"./index.esm-4cafad3c.js";import"./index-b7b6efe6.js";const m=({title:c,checked:n,setState:i})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("h3",{className:" font-semibold",children:c}),s.jsx("p",{className:"text-sm",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vestibulum metus vel urna tempor auctor."})]}),s.jsx("div",{className:"flex gap-10 items-center",children:s.jsx("div",{class:"inline-flex items-center",children:s.jsx("div",{class:"relative inline-block h-4 w-8 cursor-pointer rounded-full",children:s.jsx(j.Switch,{class:"peer absolute h-4 w-8 cursor-pointer appearance-none rounded-full  bg-gray-300 transition-colors duration-300 checked:bg-b3 peer-checked:border-b3 peer-checked:before:bg-b3",checked:n,onChange:i})})})})]}),s.jsx("hr",{className:"bg-[rgba(0,0,0,0.08)]"})]}),S=()=>s.jsx(s.Fragment,{children:s.jsx(g,{children:s.jsx(w,{})})}),w=()=>{const[c,n]=d.useState(!0),[i,l]=d.useState(!0),o=p(t=>t.user._id),u=async()=>{const t=await b({userId:o});t.status===200?(n(t.data.user.isNews),l(t.data.user.isOffers)):r(t.data.message,"error",1e3)};d.useEffect(()=>{u()});const h=async()=>{const t=await f({userId:o,name:"news",value:e.target.checked});t.status===200?(l(t.data.data.isNews),r(t.data.msg,"success",1e3)):r(t.data.message,"error",1e3)},x=async t=>{const a=await f({userId:o,name:"offers",value:t.target.checked});a.status===200?(l(a.data.data.isOffers),r(a.data.msg,"success",1e3)):r(a.data.message,"error",1e3)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col gap-10 [&>hr:last-child]:hidden",children:[s.jsx(m,{checked:i,setState:x,title:"Deals & Offers"}),s.jsx(m,{checked:c,setState:h,title:"Newsletter"})]})})};export{w as EmailPreferencesData,S as default};
