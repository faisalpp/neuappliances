import{r as n,j as e,bg as b,N as y,v as p,cg as N,ck as g,bl as C,cl as v}from"./index-f07aa3b9.js";const L=()=>{const r=async()=>{a(!0);const s=await g();s.status===200&&f(s.data.coupons),a(!1)};n.useEffect(()=>{r()},[]);const[x,o]=n.useState(""),u=async(s,t)=>{s.preventDefault(),a(t),(await v({cid:t})).status===200&&r(),o("")},h=({id:s,couponCode:t,description:c,type:i,rate:d,expiry:w})=>e.jsxs("tr",{className:"border-b border-l border-r border-b6 text-xs font-semibold",children:[e.jsx("td",{className:"whitespace-nowrap px-5 py-3 ",children:t}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3 ",children:c}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3 capitalize",children:i.replace(/\-/g," ")}),i==="percentage-discount"?e.jsxs("td",{className:"whitespace-nowrap px-5 py-3 ",children:[d,"%"]}):e.jsxs("td",{className:"whitespace-nowrap px-5 py-3 ",children:["$",d]}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3 ",children:w}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3 ",children:x===s?e.jsx("button",{type:"button",title:"Deleting...",className:"bg-red-500 rounded-full px-1 py-1 w-fit h-fit",children:e.jsx(p,{style:"w-4"})}):e.jsx("button",{type:"button",onClick:j=>u(j,s),title:"Delete Coupon",className:"flex items-center justify-center bg-red-500 text-white hover:bg-white hover:text-red-500 border-2 border-white hover:border-red-500 text-sm px-2 w-fit rounded-full cursor-pointer py-2",children:e.jsx(C,{className:"text-base"})})})]}),[m,a]=n.useState(!1),[l,f]=n.useState(!1);return e.jsxs(b,{children:[e.jsx("h3",{className:"text-center font-semibold text-xl mb-5",children:"Manage Coupons"}),e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex space-x-2 justify-end w-full",children:e.jsx(y,{to:"/admin/create-coupon",className:"self-end hover:shadow-md bg-b3 text-white text-xs px-3 rounded-2xl cursor-pointer py-2 font-bold",children:"CreateÂ Coupon"})})}),m?e.jsx("div",{children:e.jsx(p,{})}):l.length>0?e.jsx(N,{head:["Coupon Code","Description","Type","Amount","Expiry","Action"],children:l.map((s,t)=>e.jsx(h,{id:s._id,couponCode:s.code,description:s.description,type:s.type,rate:s.amount,expiry:s.expiry.date},t))}):e.jsx("div",{className:"flex w-full justify-center items-center h-52",children:e.jsx("img",{src:"/not-found.webp",className:"w-32"})})]})};export{L as default};
