import{r as d,u as U,j as t,k as w,w as M,B as z,Q as S}from"./index-93a48358.js";import{A as K}from"./AdminAccount-61aef235.js";import{q,r as Q,s as Z,t as $,v as J}from"./admin-e0881062.js";import{G as W}from"./category-a96ac3fd.js";import{T as c}from"./TextInput-50bd990b.js";import{T as h}from"./TextAreaInput-f202a2aa.js";import{S as m}from"./SelectInput-c286fbbe.js";import{c as X}from"./createProductSchema-ddd137c0.js";import{L as Y}from"./Loader2-a407ffb2.js";import"./index.esm-82bf68ef.js";const de=()=>{const x={title:"",color:"",slug:"",category:"",brand:"",fuelType:"",type:"",dryerOption:"",feature:"",bullet1:"",bullet2:"",bullet3:"",bullet4:"",salePrice:"",regularPrice:"",images:[],featuresVideo:"",threeSixty:"",modelNo:"",itemId:"",stock:"",rating:"",lowerInstallment:"",highInstallment:"",description:"",specification:"",deliveryInfo:""},[r,n]=d.useState(x),[f,C]=d.useState([]),[T,v]=d.useState([]),[N,P]=d.useState([]),[E,j]=d.useState([]),[p,I]=d.useState([]),[B,b]=d.useState([]),[O,g]=d.useState(!1);U();const[e,ee]=d.useState({}),l=a=>{const{name:o,value:s}=a.target;n(u=>({...u,[o]:s}))},F=a=>{const o=a.target.files[0];n(s=>({...s,threeSixty:o}))},D=a=>{const o=a.target.files[0];n(s=>({...s,featuresVideo:o}))},L=async a=>{g(!0),a.preventDefault(),console.log(r);try{await X.validate(r,{abortEarly:!1});const o=new FormData;o.append("threeSixty",r.threeSixty),o.append("featuresVideo",r.featuresVideo),r.images.forEach((i,y)=>{o.append(`images_${y}`,i)});for(const i in r)if(Object.hasOwnProperty.call(r,i)){const y=r[i];if(i==="threeSixty"||i==="featuresVideo"||i==="images"||i==="category")continue;o.set(i,y)}let s=f.find(i=>i._id===r.category);console.log(s),o.set("category",s.title);const u=await J(o);console.log(u),u.status===201?(g(!1),n(x),I([]),S.success(u.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):(g(!1),S.error(u.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))}catch(o){console.log(o)}},k=a=>{I([...p,...a.target.files]);const o=Array.from(a.target.files);n(s=>({...s,images:o}))},V=a=>{const o=a.target.value.toLowerCase().replace(" ","-");n(s=>({...s,title:a.target.value})),n(s=>({...s,slug:o}))};d.useEffect(()=>{A()},[]);const A=async()=>{const a=await W();a.status===200&&(C(a.data.categories),n(o=>({...o,category:a.data.categories[0]._id})),n(o=>({...o,fuelType:"electric"})),n(o=>({...o,dryerOption:"STACKABLE"})))};d.useEffect(()=>{const a=r.category;a&&(R(a),G(a),H(a),_(a))},[r.category]);const R=async a=>{const s=await q({categoryId:a});if(s.data.status===200)if(s.data.categoryBrands.length>0){v(s.data.categoryBrands[0].sectionItemsId);const u=s.data.categoryBrands[0].sectionItemsId[0].title.toLowerCase().replace(" ","-");n(i=>({...i,brand:u}))}else v([])},H=async a=>{const s=await Q({categoryId:a});if(s.data.status===200)if(s.data.productFeatures.length>0){j(s.data.productFeatures[0].sectionItemsId);const u=s.data.productFeatures[0].sectionItemsId[0].title.toLowerCase().replace(" ","-");n(i=>({...i,feature:u}))}else j([])},G=async a=>{const s=await Z({categoryId:a});if(s.data.status===200)if(s.data.productTypes.length>0){P(s.data.productTypes[0].sectionItemsId);const u=s.data.productTypes[0].sectionItemsId[0].title.toLowerCase().replace(" ","-");n(i=>({...i,type:u}))}else P([])},_=async a=>{const s=await $({categoryId:a});if(s.data.status===200)if(s.data.categoryColors.length>0){b(s.data.categoryColors[0].sectionItemsId);const u=s.data.categoryColors[0].sectionItemsId[0].title.toLowerCase().replace(" ","-");n(i=>({...i,color:u}))}else b([])};return t.jsx(t.Fragment,{children:O?t.jsx(Y,{}):t.jsxs(K,{children:[t.jsx(w,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),t.jsx("div",{className:"flex justify-center w-full",children:t.jsxs("form",{onSubmit:L,encType:"multipart/form-data",className:"flex flex-col justify-center space-y-5 w-full px-10 py-10 rounded-2xl bg-white border-[1px] border-gray-200",children:[t.jsx("div",{className:"grid grid-cols-6 gap-y-2 grid-flow-row",children:p.length>0?p.map((a,o)=>t.jsx("div",{className:"rounded-2xl border border-gray-300 p-3 h-fit w-fit",children:t.jsx("img",{src:window.URL.createObjectURL(a),className:"w-fit h-[125px] object-contain",alt:"example"})},o)):t.jsx("div",{className:"rounded-2xl border border-gray-300 p-3 h-[130px] w-fit flex justify-center items-center self-center",children:t.jsx("img",{src:"https://placehold.co/600x400",className:"max-w-fit h-[115px] object-contain",alt:"example"})})}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(c,{name:"title",title:"Product Title",iscompulsory:"true",type:"text",value:r.title,change:V,error:e.title,errormessage:e.title?e.title:void 0,placeholder:"Enter Product Title"}),t.jsx(c,{name:"slug",title:"Product Slug",iscompulsory:"true",type:"text",value:r.slug,change:l,error:e.slug,errormessage:e.slug?e.slug:void 0,placeholder:"Enter Product Slug"})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(m,{name:"category",options:f,value:r.category,change:l,title:"Product Category",iscompulsory:"true",error:e.category,errormessage:e.category?e.category:void 0}),t.jsx(m,{name:"color",options:B,value:r.color,change:l,title:"Product Color",iscompulsory:"true",error:e.color,errormessage:e.color?e.color:void 0})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(m,{name:"brand",title:"Product Brand",iscompulsory:"true",value:r.brand,change:l,options:T,error:e.brand,errormessage:e.brand?e.brand:void 0}),t.jsx(m,{name:"fuelType",title:"Fuel Type",iscompulsory:"true",value:r.fuelType,change:l,options:["Electric","Gas","Propane","Electric & Gas","Electric, Gas & Propane"],error:e.fuelType,errormessage:e.fuelType?e.fuelType:void 0})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(m,{name:"type",title:"Product Type",iscompulsory:"true",value:r.type,change:l,options:N,error:e.type,errormessage:e.type?e.type:void 0}),t.jsx(m,{name:"dryerOption",title:"Dryer Option",iscompulsory:"true",value:r.dryerOption,change:l,options:["STACKABLE","STEAM","BOTH"],error:e.dryerOption,errormessage:e.dryerOption?e.dryerOption:void 0})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(m,{name:"feature",title:"Product Feature",iscompulsory:"true",value:r.feature,change:l,options:E,error:e.feature,errormessage:e.feature?e.feature:void 0}),t.jsx(c,{name:"bullet1",title:"Bullet Description 1",iscompulsory:"true",type:"text",value:r.bullet1,change:l,error:e.bullet1,errormessage:e.bullet1?e.bullet1:void 0,placeholder:"Enter Product Bullet Point 1"})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(c,{name:"bullet2",title:"Bullet Description 2",iscompulsory:"true",type:"text",value:r.bullet2,change:l,error:e.bullet2,errormessage:e.bullet2?e.bullet2:void 0,placeholder:"Enter Product Bullet Point 2"}),t.jsx(c,{name:"bullet3",title:"Bullet Description 3",iscompulsory:"true",type:"text",value:r.bullet3,change:l,error:e.bullet3,errormessage:e.bullet3?e.bullet4:void 0,placeholder:"Enter Product Bullet Point 3"})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(c,{name:"bullet4",title:"Bullet Description 4",iscompulsory:"true",type:"text",value:r.bullet4,change:l,error:e.bullet4,errormessage:e.bullet4?e.bullet4:void 0,placeholder:"Enter Product Bullet Point 4"}),t.jsx(c,{name:"salePrice",title:"Product Sale Price",iscompulsory:"false",type:"text",value:r.salePrice,change:l,error:e.salePrice,errormessage:e.salePrice?e.salePrice:void 0,placeholder:"Enter Product Sale Price"})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(c,{name:"regularPrice",title:"Product Regular Price",iscompulsory:"true",type:"text",value:r.regularPrice,change:l,error:e.regularPrice,errormessage:e.regularPrice?e.regularPrice:void 0,placeholder:"Enter Product Regular Price"}),t.jsx(c,{name:"images",title:"Product Images",multiple:!0,iscompulsory:"true",type:"file",accept:"image/*",change:k,error:e.images,errormessage:e.images?e.images:void 0})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(c,{name:"featuresVideo",title:"Features Video",iscompulsory:"true",type:"file",accept:"video/*",change:D,error:e.featuresVideo,errormessage:e.featuresVideo?e.featuresVideo:void 0}),t.jsx(c,{name:"threeSixty",title:"Three Sixty Product Images (Zip Only)",iscompulsory:"true",type:"file",accept:".zip",change:F,error:e.threeSixty,errormessage:e.threeSixty?e.threeSixty:void 0}),t.jsx(M,{title:"360 Images should be in the root of zip file. Use 'img_1' & increment the number by one on each image. next image name should be 'img_2'. image should be in png format."})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(c,{name:"modelNo",title:"Product Model No",iscompulsory:"true",type:"text",value:r.modelNo,change:l,error:e.modelNo,errormessage:e.modelNo?e.modelNo:void 0,placeholder:"Enter Product Model No"}),t.jsx(c,{name:"itemId",title:"Product Item Id",iscompulsory:"true",type:"text",value:r.itemId,change:l,error:e.itemId,errormessage:e.itemId?e.itemId:void 0,placeholder:"Enter Product Item Id"})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(c,{name:"stock",title:"Product Total Stock",iscompulsory:"true",type:"text",value:r.stock,change:l,error:e.stock,errormessage:e.stock?e.stock:void 0,placeholder:"Enter Product Total Stock"}),t.jsx(c,{name:"rating",title:"Product Cosmatic Rating",iscompulsory:"true",type:"text",value:r.rating,change:l,error:e.rating,errormessage:e.rating?e.rating:void 0,placeholder:"Enter Cosmatic Rating (3-5)"})]}),t.jsxs("div",{className:"flex space-x-2 items-center",children:[t.jsx(c,{name:"lowerInstallment",title:"Product Lower Installment Price",iscompulsory:"true",type:"text",value:r.lowerInstallment,change:l,error:e.lowerInstallment,errormessage:e.lowerInstallment?e.lowerInstallment:void 0,placeholder:"Enter Product Lower Installment Price"}),t.jsx(c,{name:"highInstallment",title:"Product Higher Installment Price",iscompulsory:"true",type:"text",value:r.highInstallment,change:l,error:e.highInstallment,errormessage:e.highInstallment?e.highInstallment:void 0,placeholder:"Enter Product Higher Installment Price"})]}),t.jsx(h,{name:"description",title:"Product Description",iscompulsory:"true",type:"text",value:r.description,change:l,error:e.description,errormessage:e.description?e.description:void 0,placeholder:"Enter Product Description"}),t.jsx(h,{name:"specification",title:"Product Specification",iscompulsory:"true",type:"text",value:r.specification,change:l,error:e.specification,errormessage:e.specification?e.specification:void 0,placeholder:"Enter Product Specification"}),t.jsx(h,{name:"deliveryInfo",title:"Product Delivery Info",iscompulsory:"true",type:"text",value:r.deliveryInfo,change:l,error:e.deliveryInfo,errormessage:e.deliveryInfo?e.deliveryInfo:void 0,placeholder:"Enter Product Delivery Info"}),t.jsx("button",{type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-full bg-b3",children:t.jsxs("a",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[t.jsx("span",{className:"text-xs",children:"Create"}),t.jsx(z,{className:"text-2xl"})]})})]})}),t.jsx(w,{})]})})};export{de as default};
