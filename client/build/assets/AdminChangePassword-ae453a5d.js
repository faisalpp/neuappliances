import{r as o,j as e,k as x,bb as y,by as l,b$ as N,z as i}from"./index-978fc09a.js";import{c as q,a as d,e as v}from"./index.esm-34910899.js";const A=()=>{const c=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,25}$/,h=q().shape({newPass:d().matches(c,"Password must meet the required pattern").required("New Password is required"),currentPass:d().matches(c,"Password must meet the required pattern").required("Current Password is required"),confNewPass:d().oneOf([v("newPass"),null],"Passwords must match").required("Confirm New Password is required")}),[u,g]=o.useState(""),[m,P]=o.useState(""),[w,j]=o.useState(""),[s,p]=o.useState([]),[f,a]=o.useState(!1),b=async r=>{r.preventDefault(),a(!0);try{const n={currentPass:u,newPass:m,confNewPass:w};await h.validate(n,{abortEarly:!1});const t=await N(n);t.status===200?(a(!1),i(t.data.msg,"success",1e3)):(a(!1),i(t.data.message,"error",1e3))}catch(n){if(n){a(!1);let t=n.errors;p(t),t.forEach(C=>{i(C,"error",1e3)})}else a(!1),p([])}};return e.jsxs(e.Fragment,{children:[e.jsx(x,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsx(y,{children:e.jsxs("form",{onSubmit:b,className:"w-full flex flex-col items-center gap-6 my-10",children:[e.jsx(l,{error:!!(s.length>0&&s.includes("Current Password is required")),errormessage:"Current Password is required",value:u,onChange:r=>g(r.target.value),name:"currentPass",title:"Current Password",iscompulsory:"true",type:"password",placeholder:"Enter Current Password"}),e.jsx(l,{error:!!(s.length>0&&s.includes("New Password is required")),errormessage:"New Password is Required",value:m,onChange:r=>P(r.target.value),name:"newPass",title:"New Password",iscompulsory:"true",type:"password",placeholder:"Enter Current Password"}),e.jsx(l,{error:!!(s.length>0&&s.includes("Confirm Password is required")),errormessage:"Confirm Password is Required",value:w,onChange:r=>j(r.target.value),name:"confNewPass",title:"Confirm New Password",iscompulsory:"true",type:"password",placeholder:"Enter Current Password"}),e.jsxs("div",{className:"flex justify-center space-x-2 w-full",children:[f?e.jsx("button",{type:"submit",className:"flex justify-center self-center items-center cursor-pointer rounded-md py-1 w-20 bg-b3 px-2",children:e.jsx("img",{src:"/loader-bg.gif",className:"w-5"})}):null,f?null:e.jsx("button",{type:"submit",className:"flex justify-center self-center items-center cursor-pointer rounded-md py-1 w-3/2 bg-b3",children:e.jsx("span",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:e.jsx("span",{className:"text-xs",children:"Submit"})})})]}),s.length>0?e.jsx("div",{className:"border-[1px] border-red-500 px-8 rounded-xl py-2",children:e.jsxs("ul",{className:"list-disc text-orange-500",children:[e.jsx("li",{children:"Contains at least one lowercase letter."}),e.jsx("li",{children:"Contains at least one uppercase letter."}),e.jsx("li",{children:"Contains at least one digit."}),e.jsxs("li",{children:["Uses only a combination of lowercase letters,",e.jsx("br",{})," uppercase letters, and digits."]}),e.jsx("li",{children:"Has a length between 6 and 25 characters."})]})}):null]})}),e.jsx(x,{})]})};export{A as default};
