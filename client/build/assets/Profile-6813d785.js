import{j as e,u as S,a6 as v,a5 as w,r as s,t as C,aN as P,w as j}from"./index-39c55757.js";import{M as E}from"./MyAccount-e96b8205.js";import{C as o}from"./CustomInput-e07007bb.js";import{G as F}from"./profile-6839643d.js";const U=({ButtonName:n})=>e.jsx("div",{children:e.jsx("button",{type:"submit",className:"rounded-lg bg-b3 py-3 w-full text-white text-xs font-medium",children:n})}),D=["USA"],k=()=>e.jsx(e.Fragment,{children:e.jsx(E,{children:e.jsx(L,{})})}),L=()=>{const n=S(),b=v(),m=w(t=>t.user._id),[d,r]=s.useState(""),[p,l]=s.useState(""),[x,i]=s.useState("yourusername@email.com"),[f,c]=s.useState("+1 000-000-0000"),[a,u]=s.useState(""),[g,A]=s.useState(D),y=async()=>{const t=await F({_id:m});t.status===200?(r(t.data.user.firstName),l(t.data.user.lastName),i(t.data.user.email),c(t.data.user.phone),u(t.data.user.country)):(b(P()),n("/"))},N=async t=>{t.preventDefault();const h=await(await fetch("http://localhost:5000/api/user/update-profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:m,firstName:d,lastName:p,email:x,country:a,phone:f}),credentials:"include"})).json();h.status===200?j("Profile Updated!","success",1e3):j(h.data.message,"success",1e3)};return s.useEffect(()=>{y()},[r,l,i,c,u]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:N,className:"flex flex-col gap-6 lg:max-w-[432px] w-full",children:[e.jsx(o,{label:"First name",state:d,setState:r}),e.jsx(o,{label:"Last name",state:p,setState:l}),e.jsx(o,{label:"Email Address",type:"email",state:x,setState:i}),e.jsxs("div",{children:[e.jsx("label",{className:"text-b16 font-semibold text-xs block mb-2",children:"Country"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:a,onChange:t=>u(t.target.value),className:"border border-[rgba(0,0,0,0.16)] rounded-lg h-10 text-sm px-4 w-full outline-none appearance-none",children:[e.jsx("option",{value:a,default:!0,children:a}),g.map(t=>e.jsx("option",{children:t}))]}),e.jsx(C,{className:"absolute right-4 top-3"})]})]}),e.jsx(o,{label:"Phone",state:f,setState:c}),e.jsx(U,{ButtonName:"Save Changes"})]})})};export{L as ProfileData,k as default};
