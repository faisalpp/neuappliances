import{r as s,y as M,z as $,j as e,M as H,C as O,D as Q,E as T,H as z,J,P as K,K as U,O as V}from"./index-5c24a57c.js";const Y=()=>{const[p,h]=s.useState([]),[F,y]=s.useState([]),[S,N]=s.useState({}),[P,w]=s.useState({}),[a,o]=s.useState([]),[u,d]=s.useState(!1),[L,x]=s.useState(!1),[v,r]=s.useState(!1),m=M(),[i,g]=s.useState([]),[c,C]=s.useState(1),[b,G]=s.useState(10),[f,W]=s.useState(6),R=()=>{n(!0),r(!0);const t=new URLSearchParams(m.search),l={};for(const[D,I]of t.entries())l[D]=I;g({isSale:!0,salePrice:{$gte:200,$lte:8e3},sort:1,...l})},[k,j]=s.useState(!0),[A,n]=s.useState(!0),B=async()=>{r(!0);const t=await V({...i,page:c,limit:f});t.status===200?(o(t.data.products),G(Math.ceil(t.data.totalProducts/f)),r(!1)):(r(!1),o([]))};s.useEffect(()=>{A||setTimeout(()=>{B()},50)},[i,c]),s.useEffect(()=>{R(),E()},[m.search]);const E=async()=>{const t=await $();t.status===200?(y(t.data.ratingFilters),h(t.data.categoryFilters),N(t.data.saleFilter),w(t.data.regularFilter),j(!1),n(!1)):(n(!1),j(!1))},q=()=>{x(!1)};return e.jsx(e.Fragment,{children:e.jsxs(H,{children:[e.jsxs("div",{className:"flex items-center mt-5 py-5 maincontainer",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h5",{className:"text-xs text-blue-400",children:"Home"}),e.jsx(O,{className:"text-xl text-gray-500"}),e.jsx("h5",{className:"text-xs text-gray-400",children:"Products"})]}),e.jsxs("div",{className:"flex items-center space-x-5 w-full justify-end",children:[e.jsx(Q,{className:"cursor-pointer",onClick:()=>d(!0)}),e.jsx(T,{className:"cursor-pointer",onClick:()=>d(!1)})]}),e.jsxs("button",{className:"ml-5 text-sm font-semibold flex gap-2 items-center lg:hidden",onClick:()=>x(!0),children:["Filters ",e.jsx(z,{className:"text-xs stroke-1"})]})]}),e.jsxs("div",{className:"flex justify-center gap-12 xl:gap-x-60px maincontainer",children:[e.jsx(J,{loading:k,query:i,setQuery:g,saleFilter:S,regularFilter:P,categoriesFilters:p,ratingFilters:F,onClose:q,isFilter:L}),e.jsx("div",{className:`grid ${u?"lg:grid-cols-3 grid-cols-1 lg:gap-x-2":"grid-cols-1"} gap-y-5 mb-10 w-full`,children:v?e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsx("img",{src:"/loader2.gif",className:"w-20 h-20"})}):(a==null?void 0:a.length)>0?e.jsxs(e.Fragment,{children:[a.map((t,l)=>e.jsx(K,{product:t,isGrid:u},l)),e.jsx(U,{page:c,setPage:C,totalPages:b})]}):e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsx("img",{src:"/not-found.webp",className:"w-40 h-40"})})})]})]})})};export{Y as default};
