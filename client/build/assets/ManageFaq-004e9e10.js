import{r as a,j as e,B as f,bi as E,b5 as k,N as A,b8 as O,Q as i}from"./index-28ed215d.js";import{A as B}from"./AdminAccount-2aaad560.js";import{P as h}from"./Popup-b53ebc6c.js";import{T as b}from"./TextInput-475acab6.js";import{g as U,m as H,n as I}from"./admin-0c2aa3c5.js";import{c as g,a as c}from"./index.esm-259519e9.js";const G=()=>{const j=g().shape({title:c().required("Title is required")}),T=g().shape({title:c().required("Title is required"),_id:c().required("Id is required")}),[q,l]=a.useState(!1),[v,o]=a.useState(!1),[d,n]=a.useState(""),[w,F]=a.useState(""),[u,N]=a.useState(""),[p,y]=a.useState([]),[x,C]=a.useState([]),m=async()=>{const t=await U();t.status===200?C(t.data.faqTabs):console.log(t)};a.useEffect(()=>{m()},[]);const P=async t=>{t.preventDefault();try{const s={title:u};await j.validate(s,{abortEarly:!1});const r=await H(s);r.status===200?(l(!1),i.success(r.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):(l(!1),i.error(r.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))}catch(s){console.error("Validation errors:",s.errors),y(s.errors)}},S=async t=>{t.preventDefault();try{const s={title:d,_id:w};await T.validate(s,{abortEarly:!1}),console.log(s);const r=await I(s);r.status===200?(m(),o(!1),i.success(r.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):(o(!1),i.error(r.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))}catch(s){console.log("Error message:",s)}};return e.jsxs(e.Fragment,{children:[e.jsx(h,{state:q,setState:l,children:e.jsxs("form",{className:"flex flex-col space-y-3",children:[e.jsx("h1",{className:"font-semibold",children:"Create FAQ Tab"}),e.jsx(b,{width:"full",name:"title",title:"Faq Tab Title",iscompulsory:"true",type:"text",value:u,onChange:t=>N(t.target.value),error:!!p.includes("Title is required"),errormessage:"Title is Required",placeholder:"Enter Faq Tab Title"}),e.jsx("button",{onClick:P,type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-full bg-b3",children:e.jsxs("a",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Create"}),e.jsx(f,{className:"text-2xl"})]})})]})}),e.jsx(h,{state:v,setState:o,children:e.jsxs("form",{className:"flex flex-col space-y-3",children:[e.jsx("h1",{className:"font-semibold",children:"Update FAQ Tab"}),e.jsx(b,{width:"full",name:"title",title:"Faq Tab Title",iscompulsory:"true",type:"text",value:d,onChange:t=>n(t.target.value),error:!!p.includes("Title is required"),errormessage:"Title is Required",placeholder:"Enter Faq Tab Title"}),e.jsx("button",{onClick:S,type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-full bg-b3",children:e.jsxs("a",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Update"}),e.jsx(f,{className:"text-2xl"})]})})]})}),e.jsxs(B,{children:[e.jsx("div",{className:"flex mb-5 py-3 rounded-3xl px-10 w-full",children:e.jsx("div",{className:"flex w-full justify-end space-x-3",children:e.jsx(E,{onClick:()=>l(!0),className:"text-b3 text-3xl shadow-xl rounded-full cursor-pointer"})})}),e.jsx("div",{className:"grid grid-cols-3 gap-x-3 ",children:x.length>0?x.map((t,s)=>e.jsx("div",{className:"tab-buttons maxlg:order-2 w-full flex flex-col gap-2 mb-2",children:e.jsxs("div",{className:"p-2 xl:p-3 xl:text-sm font-semibold flex justify-between items-center text-left border border-[rgba(0,0,0,0.15)] rounded-2xl text-b23",children:[e.jsx("span",{className:"w-96",children:t.title}),e.jsxs("div",{className:"flex w-full space-x-1",children:[e.jsx("span",{className:"p-2 bg-b6 hover:bg-white border-b3 border-2  rounded-full cursor-pointer group",children:e.jsx(k,{onClick:()=>{o(!0),n(t.title),F(t._id)},className:"text-white group-hover:text-b3 text-lg shadow-xl"})}),e.jsx(A,{to:`/admin/create-faq/${t.slug}`,className:"p-2 bg-b6 hover:bg-white border-b3 border-2  rounded-full cursor-pointer group",children:e.jsx(O,{className:"text-white group-hover:text-b3 text-lg shadow-xl"})})]})]})},s)):e.jsx("h1",{children:"No FAQ Tabs Found!"})})]})]})};export{G as default};
