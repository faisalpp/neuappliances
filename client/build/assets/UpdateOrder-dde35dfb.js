import{d as S,r as c,j as e,L as O}from"./index-8f0b06cf.js";import{A as I}from"./AdminAccount-b3b4e259.js";import{a as T}from"./order-d33a72f9.js";import{T as m}from"./Table-7f52bdc1.js";import{S as h}from"./SelectInput-f94c12f9.js";import{m as p}from"./index.esm-3fd02e0d.js";import"./MainLayout-15ec4b43.js";import"./ScrollToTop-0e31c04b.js";import"./index-2d961a36.js";const L=()=>{const o=S(),[t,j]=c.useState({}),[n,N]=c.useState([]),[l,u]=c.useState({}),[a,b]=c.useState({}),[f,g]=c.useState({}),y=s=>{let r,x=[];for(r=0;r<s.length;r++){const d=x.findIndex(i=>i.pid===s[r].pid);d!==-1?x[d].count+=1:x.push({...s[r],count:1})}return x},w=async()=>{const s=await T({orderNo:o.id});console.log(s.data),s.status===200&&(j(s.data.order),N(y(s.data.order.orders)),u(s.data.order.shippingAddress),b(s.data.order.billingAddress),g(s.data.order.paymentInfo))};c.useEffect(()=>{w()},[o]);const v=({image:s,title:r,price:x,quantity:d})=>e.jsxs("tr",{className:"border-b border-l border-r border-b6 text-xs font-semibold",children:[e.jsx("td",{className:"whitespace-nowrap flex justify-center px-5 py-3",children:e.jsx("img",{src:s,className:"w-10"})}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3",children:e.jsx(O,{to:`/product/${r.toLowerCase().replace(/\s/g,"-")}`,className:"underline text-b6",children:r})}),e.jsxs("td",{className:"whitespace-nowrap px-5 py-3 text-b7 ",children:["$",x]}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3",children:"x"}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3",children:d}),e.jsxs("td",{className:"whitespace-nowrap px-5 py-3 text-red-500",children:["$",d*x]})]}),P=({total:s,shipping:r,tax:x,grandTotal:d,coupen:i})=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"border-b border-l border-r border-b6 text-xs",children:[e.jsxs("td",{className:"px-2 py-3 font-semibold",children:["$",s]}),e.jsx("td",{className:"px-2 py-3 font-semibold",children:i}),e.jsx("td",{className:"px-2 py-3 font-semibold",children:r}),e.jsxs("td",{className:"px-2 py-3 font-semibold",children:["$",x]}),e.jsxs("td",{className:"px-2 py-3 font-semibold",children:["$",d]})]})});return e.jsxs(I,{children:[e.jsxs("div",{className:"flex w-full",children:[e.jsx("div",{className:"w-full",children:e.jsxs("h3",{className:"text-lg font-semibold",children:["Order # ",e.jsx("span",{className:"text-red-500",children:t.orderNo})," details"]})}),e.jsxs("div",{className:"flex space-x-2 mr-4 justify-center items-center",children:[e.jsx("h3",{className:"text-sm font-semibold mb-2 mt-2",children:"Order Details:"}),t.orderStatus==="pending"?e.jsx("span",{className:"bg-yellow-500/30 text-yellow-700 px-2 rounded-lg py-1 text-sm",children:"Pending"}):null,t.orderStatus==="rejected"?e.jsx("span",{className:"bg-red-500/30 text-red-500 px-2 rounded-lg py-1 text-sm",children:"Rejected"}):null,t.orderStatus==="completed"?e.jsx("span",{className:"bg-b6/30 text-b6 px-2 rounded-lg py-1 text-sm",children:"Completed"}):null,t.orderStatus==="processing"?e.jsx("span",{className:"bg-b10/30 text-b10 px-2 rounded-lg py-1 text-sm",children:"Processing"}):null]}),e.jsxs("div",{className:"flex space-x-2 justify-center items-center",children:[e.jsx("h3",{className:"text-sm font-semibold mb-2 mt-2",children:"Payment Details:"}),t.orderStatus!=="pending"?e.jsx("span",{className:"bg-yellow-500/30 text-yellow-700 px-2 rounded-lg py-1 text-sm",children:"Pending"}):null,t.orderStatus!=="rejected"?e.jsx("span",{className:"bg-red-500/30 text-red-500 px-2 rounded-lg py-1 text-sm",children:"Rejected"}):null,t.orderStatus==="completed"?e.jsx("span",{className:"bg-b6/30 text-b6 px-2 rounded-lg py-1 text-sm",children:"Completed"}):null,t.orderStatus==="processing"?e.jsx("span",{className:"bg-b10/30 text-b10 px-2 rounded-lg py-1 text-sm",children:"Processing"}):null]})]}),e.jsxs("div",{className:"flex space-x-3 mt-5",children:[e.jsxs("div",{className:"flex flex-col w-1/2",children:[e.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Order Details"}),e.jsxs("div",{className:"flex flex-col space-y-2 px-5 py-5 rounded-lg border-[1px]",children:[e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Order Type: "})," ",t.orderType]}),t.orderType==="pickup"?e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Pickup Location: "})," ",l==null?void 0:l.postalCode]}):null,e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Customer IP: "})," 192.0.0.1"]}),e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Placed On: "})," 24 October 2023"]}),e.jsxs("div",{className:"border-[1px] px-2 py-2 rounded-lg space-y-1",children:[e.jsxs("div",{className:"flex text-xs text-gray-500 w-full",children:[e.jsx("span",{className:"text-black w-full",children:"Customer: "}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("a",{className:"underline text-b6 cursor-pointer",children:"Customer Profile"}),e.jsx("a",{className:"underline text-b6 cursor-pointer",children:"View Other Orders"})]})]}),e.jsx("h3",{className:"text-xs text-gray-500",children:"gagan seo (gagan@gmail.com)"})]}),e.jsxs("form",{className:"flex space-x-4 items-center",children:[e.jsx("h3",{className:"text-xs ",children:"Order Status:"}),e.jsx(h,{height:"h-8",textSize:"text-xs"}),e.jsx("button",{className:"text-xs bg-b6 h-fit w-fit px-3 py-1 rounded-xl text-white",children:"Save"})]})]})]}),e.jsxs("div",{className:"flex flex-col w-1/2",children:[e.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Payment Details"}),e.jsxs("div",{className:"flex flex-col space-y-2 px-5 py-5 rounded-lg border-[1px]",children:[e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Payment Type: "})," ",f.name]}),e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Payment Method: "})," Card"]}),e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Customer IP: "})," 192.0.0.1"]}),e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Paid On: "})," 24 October 2023"]}),e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Payment Intent: "}),e.jsx("a",{className:"underline text-b6 cursor-pointer ",children:"q1evwx98bz-q1evwx98bz"})]}),e.jsxs("form",{className:"flex space-x-4 items-center",children:[e.jsx("h3",{className:"text-xs ",children:"Payment Status:"}),e.jsx(h,{height:"h-8",textSize:"text-xs"}),e.jsx("button",{className:"text-xs bg-b6 h-fit w-fit px-3 py-1 rounded-xl text-white",children:"Save"})]})]})]})]}),e.jsxs("div",{className:"flex space-x-5 mt-5 w-full",children:[l?e.jsxs("div",{className:"flex flex-col space-y-2 w-1/2",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Shipping Address"}),e.jsxs("div",{className:"relative border-[1px] rounded-lg px-4 py-4 w-full",children:[e.jsx("button",{type:"button",title:"Edit Shipping Info",className:"absolute right-2 flex items-center justify-center bg-b3 text-white hover:bg-white hover:text-b3 border-2 border-white hover:border-b3 text-xs px-2 w-fit rounded-full cursor-pointer py-2",children:e.jsx(p,{className:"text-sm"})}),e.jsxs("h4",{className:"text-xs text-gray-500",children:[l.firstName," ",l.lastName]}),e.jsxs("p",{className:"text-xs flex flex-wrap",children:[l.address," ",l.city," ",l.state," ",l.country]}),e.jsx("p",{className:"text-xs flex flex-wrap",children:l.postalCode}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("h3",{className:"text-xs",children:"Email Address:"}),e.jsx("a",{href:`mailto:${l.email}`,className:"text-xs underline text-b6",children:l.email})]}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("h3",{className:"text-xs",children:"Phone:"}),e.jsx("a",{href:`tel:${l.phone}`,className:"text-xs underline text-b6",children:l.phone})]})]})]}):null,a?e.jsxs("div",{className:"flex flex-col space-y-2 w-1/2",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Billing Address"}),e.jsxs("div",{className:"relative border-[1px] rounded-lg px-4 py-4 w-full",children:[e.jsx("button",{type:"button",title:"Edit Billing Info",className:"absolute right-2 flex items-center justify-center bg-b3 text-white hover:bg-white hover:text-b3 border-2 border-white hover:border-b3 text-xs px-2 w-fit rounded-full cursor-pointer py-2",children:e.jsx(p,{className:"text-sm"})}),e.jsxs("h4",{className:"text-xs text-gray-500",children:[a.firstName," ",a.lastName]}),e.jsxs("p",{className:"text-xs flex flex-wrap",children:[a.address," ",a.city," ",a.state," ",l.country]}),e.jsx("p",{className:"text-xs flex flex-wrap",children:a.postalCode}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("h3",{className:"text-xs",children:"Email Address:"}),e.jsx("a",{href:`mailto:${a.email}`,className:"text-xs underline text-b6",children:a.email})]}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("h3",{className:"text-xs",children:"Phone:"}),e.jsx("a",{href:`tel:${a.phone}`,className:"text-xs underline text-b6",children:a.phone})]})]})]}):null]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Order Products"}),e.jsx(m,{head:["Image","Title","Price","","QTY","Total"],children:n&&(n==null?void 0:n.map(s=>e.jsx(v,{image:s.image,title:s.title,price:s.salePrice?s.salePrice:s.regPrice,quantity:s.count})))})]}),e.jsx("div",{children:e.jsx(m,{head:["Sub Total","Coupen","Shipping","Tax","Grand Total"],children:e.jsx(P,{coupen:"N/A",total:t.total,shipping:t.orderType==="pickup"?"Free":`$${t.shipping}`,tax:t.tax,grandTotal:t.grandTotal})})})]})};export{L as default};
