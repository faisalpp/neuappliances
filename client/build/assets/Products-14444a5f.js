import{r as s,y as D,z as M,j as e,M as H,C as I,D as O,E as Q,H as z,J,P as K,K as T,O as U}from"./index-34a93641.js";const W=()=>{const[f,j]=s.useState([]),[h,p]=s.useState([]),[F,y]=s.useState({}),[S,N]=s.useState({}),[a,c]=s.useState([]),[o,u]=s.useState(!1),[P,x]=s.useState(!1),[w,r]=s.useState(!1),v=D(),[i,d]=s.useState([]),[n,C]=s.useState(1),[L,b]=s.useState(10),[m,$]=s.useState(6),G=()=>{const t=new URLSearchParams(v.search),l={};for(const[E,q]of t.entries())l[E]=q;d({isSale:!0,salePrice:{min:200,max:8e3},...l})},[R,g]=s.useState(!0),k=async()=>{r(!0);const t=await U({...i,page:n,limit:m});t.status===200?(c(t.data.products),b(Math.ceil(t.data.totalProducts/m)),r(!1)):(r(!1),c([]))};s.useEffect(()=>{k()},[i,n]),s.useEffect(()=>{G(),A()},[]);const A=async()=>{const t=await M();t.status===200&&(p(t.data.ratingFilters),j(t.data.categoryFilters),y(t.data.saleFilter),N(t.data.regularFilter)),g(!1)},B=()=>{x(!1)};return e.jsx(e.Fragment,{children:e.jsxs(H,{children:[e.jsxs("div",{className:"flex items-center mt-5 py-5 maincontainer",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h5",{className:"text-xs text-blue-400",children:"Home"}),e.jsx(I,{className:"text-xl text-gray-500"}),e.jsx("h5",{className:"text-xs text-gray-400",children:"Products"})]}),e.jsxs("div",{className:"flex items-center space-x-5 w-full justify-end",children:[e.jsx(O,{className:"cursor-pointer",onClick:()=>u(!0)}),e.jsx(Q,{className:"cursor-pointer",onClick:()=>u(!1)})]}),e.jsxs("button",{className:"ml-5 text-sm font-semibold flex gap-2 items-center lg:hidden",onClick:()=>x(!0),children:["Filters ",e.jsx(z,{className:"text-xs stroke-1"})]})]}),e.jsxs("div",{className:"flex justify-center gap-12 xl:gap-x-60px maincontainer",children:[e.jsx(J,{loading:R,query:i,setQuery:d,saleFilter:F,regularFilter:S,categoriesFilters:f,ratingFilters:h,onClose:B,isFilter:P}),e.jsxs("div",{className:`grid ${o?"lg:grid-cols-3 grid-cols-1 lg:gap-x-2":"grid-cols-1"} gap-y-5 mb-10 w-full`,children:[w?e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsx("img",{src:"/loader2.gif",className:"w-20 h-20"})}):null,(a==null?void 0:a.length)>0?null:e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsx("img",{src:"/not-found.webp",className:"w-40 h-40"})}),(a==null?void 0:a.length)>0?e.jsxs(e.Fragment,{children:[a.map((t,l)=>e.jsx(K,{product:t,isGrid:o},l)),e.jsx(T,{page:n,setPage:C,totalPages:L})]}):null]})]})]})})};export{W as default};
