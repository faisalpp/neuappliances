import{j as e,ah as R,ai as u,r as d,a0 as q,$ as v,u as C,aj as w,q as n,aA as S}from"./index-b83a84a7.js";import{M as b}from"./MyAccount-3d91ad9c.js";import{g as T}from"./profile-6ca0dba7.js";import{B as E}from"./BtnLoader-07b01e49.js";const F=()=>e.jsx(e.Fragment,{children:e.jsx(b,{children:e.jsx(D,{})})}),D=()=>{const f=R().shape({password:u().required("Password is Required!"),confirmPassword:u().required("Re-Type Password is Required!")}),[t,i]=d.useState([]),[l,m]=d.useState(""),[c,p]=d.useState(""),[g,o]=d.useState(!1),h=q(s=>s.user._id),x=v(),P=C(),y=async s=>{s.preventDefault(),o(!0);try{const a={password:l,confirmPassword:c};await f.validate(a,{abortEarly:!1});const r=await T({...a,userId:h});console.log(r),r.status===200?(o(!1),n(r.data.msg,"success",1e3),x(S()),P("/login")):(o(!1),n(r.data.message,"error",1e3))}catch(a){if(o(!1),a){let r=a.errors;i(r),r.forEach(j=>{n(j,"error",1e3)})}else i([])}};return e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:y,className:"lg:max-w-[432px] w-full flex flex-col gap-6",children:[e.jsx(w,{title:"Password",type:"password",width:"full",value:l,onChange:s=>m(s.target.value),error:!!(t&&t.includes("Password is Required!")),errormessage:"Password is Required!",placeholder:"••••••••••••••"}),e.jsx(w,{title:"Re-Type Password",type:"password",width:"full",value:c,onChange:s=>p(s.target.value),error:!!(t&&t.includes("Re-Type Password is Required!")),errormessage:"Re-Type Password is Required!",placeholder:"••••••••••••••"}),e.jsx("button",{type:"submit",className:"flex justify-center items-center rounded-lg bg-b3 py-3 w-full text-white text-xs font-medium",children:g?e.jsx(E,{style:"w-4"}):"Change Password"})]})})};export{D as ChangePasswordData,F as default};
