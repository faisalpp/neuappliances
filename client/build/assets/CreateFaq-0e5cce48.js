import{r,j as e,bk as V,c6 as I,aB as _,p as P,q as i,U as G,u as R,a7 as Q,ao as B,bC as O,f as $,bg as L,bG as T,bF as z,aG as n}from"./index-9e2787ee.js";import{a as J,A as K,B as M,C as W}from"./admin-8b96284a.js";/* empty css                      */const X=({DeleteFaq:w,setUpdatedFaqId:v,setUpdateQuestion:h,setUpdatedAnswer:F,setUpdatePopup:A,id:c,activeBg:m,activeText:d,title:f,textStyle:l,answer:u,parent:g,child:b,icon:j,isExpand:y})=>{const[a,p]=r.useState(!!y);return e.jsx(e.Fragment,{children:e.jsxs("div",{onClick:()=>{p(!a)},className:`duration-200 flex flex-col border-[1px] border-gray-200 cursor-pointer ${g} ${a?m:""}`,children:[e.jsxs("div",{className:"flex items-center justify-between w-full gap-1",children:[e.jsx("h6",{className:`${a?d:""} ${l}`,children:f}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{onClick:()=>{v(c),h(f),F(u),A(!0)},className:"p-1 bg-b6 hover:bg-white border-b3 border-2  rounded-full cursor-pointer group",children:e.jsx(V,{className:"text-white group-hover:text-b3 text-sm shadow-xl"})}),e.jsx("span",{onClick:x=>w(x,c),className:"p-1 bg-red-500 hover:bg-white border-red-500 border-2  rounded-full cursor-pointer group",children:e.jsx(I,{className:"text-red-300 group-hover:text-red-500 text-sm shadow-xl"})}),e.jsx(_,{className:`${j} ${a?`rotate-180 ${d}`:""} duration-200`})]})]}),e.jsx("div",{className:` ${a?`flex ${d}`:"hidden"} ${b} mt-1 duration-200`,children:e.jsx("p",{children:u})})]})})},se=()=>{const w=P().shape({question:i().required("Question is required"),answer:i().required("Answer is required"),slug:i().required("Slug is required")}),v=P().shape({question:i().required("Question is required"),answer:i().required("Answer is required"),_id:i().required("Slug is required")}),{slug:h}=G(),F=R(),[A,c]=r.useState([]),[m,d]=r.useState([]),[f,l]=r.useState(!1),[u,g]=r.useState(""),[b,j]=r.useState(""),[y,a]=r.useState(!1),[p,x]=r.useState(""),[S,N]=r.useState(""),[U,k]=r.useState(""),q=async()=>{const s=await J({slug:h});console.log(s),s.status===200&&d(s.data.faqs)};r.useEffect(()=>{q()},[]);const E=async s=>{s.preventDefault();try{const t={question:u,answer:b,slug:h};await w.validate(t,{abortEarly:!1});const o=await K(t);o.status===200?(l(!1),g(""),j(""),q(),n.success(o.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):(l(!1),n.error(o.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))}catch(t){console.error("Validation errors:",t.errors),c(t.errors)}},D=async s=>{s.preventDefault();try{const t={question:p,answer:S,_id:U};await v.validate(t,{abortEarly:!1});const o=await M(t);o.status===200?(q(),x(""),N(""),k(""),a(!1),n.success(o.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):(a(!1),n.error(o.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))}catch(t){console.error("Validation errors:",t.errors),c(t.errors)}},H=async(s,t)=>{s.preventDefault();try{const C=await W({_id:t});C.status===200?(q(),n.success(C.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):n.error(C.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}catch(o){console.error("Validation errors:",o.errors)}};return e.jsxs(e.Fragment,{children:[e.jsx(Q,{state:y,setState:a,children:e.jsxs("form",{className:"flex flex-col space-y-3 w-10/12",children:[e.jsx("h1",{className:"font-semibold",children:"Update FAQ"}),e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(B,{width:"full",name:"question",title:"Faq Question",iscompulsory:"true",type:"text",value:p,onChange:s=>x(s.target.value),placeholder:"Enter Faq Question"}),e.jsx(O,{name:"answer",title:"Faq Answer",iscompulsory:"true",type:"text",value:S,change:s=>N(s.target.value),placeholder:"Enter Faq Answer"}),e.jsx("button",{onClick:D,type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-6/12 bg-b3",children:e.jsxs("a",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Update"}),e.jsx($,{className:"text-2xl"})]})})]})]})}),e.jsx(Q,{state:f,setState:l,children:e.jsxs("form",{className:"flex flex-col space-y-3 w-10/12",children:[e.jsx("h1",{className:"font-semibold",children:"Create FAQ"}),e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(B,{width:"full",name:"question",title:"Faq Question",iscompulsory:"true",type:"text",value:u,onChange:s=>g(s.target.value),placeholder:"Enter Faq Question"}),e.jsx(O,{name:"answer",title:"Faq Answer",iscompulsory:"true",type:"text",value:b,change:s=>j(s.target.value),placeholder:"Enter Faq Answer"}),e.jsx("button",{onClick:E,type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-6/12 bg-b3",children:e.jsxs("a",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Create"}),e.jsx($,{className:"text-2xl"})]})})]})]})}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex w-full items-center space-x-3 mb-5",children:[e.jsx(T,{className:"text-2xl text-b3 cursor-pointer",onClick:()=>F(-1)}),e.jsx("div",{className:"flex w-full justify-end space-x-3",children:e.jsx(z,{onClick:()=>l(!0),className:"text-b3 text-3xl shadow-xl rounded-full cursor-pointer"})})]}),e.jsx("div",{className:"flex flex-col justify-center space-y-3",children:m.length>0?m.map((s,t)=>e.jsx(X,{DeleteFaq:H,setUpdatedFaqId:k,setUpdatePopup:a,setUpdateQuestion:x,setUpdatedAnswer:N,id:s._id,title:s.question,parent:"gap-3 bg-[#F8FBFB] [&>div>h6]:maxmd:text-sm text-white p-4 md:px-8 md:py-6 rounded-xl border-none text-b18 h-auto",icon:"text-xl text-black",textStyle:"font-bold text-md text-b18",child:"[&>p]:text-sm text-b18 font-normal",answer:s.answer},t)):e.jsx("h1",{children:"No FAQ's Found!"})})]})]})};export{se as default};
