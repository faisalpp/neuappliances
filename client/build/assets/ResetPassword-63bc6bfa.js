import{d as y,u as R,r as a,j as e,v as b,T as i,k as v}from"./index-8c4645a1.js";import{M as q}from"./MainLayout-8e30f7a1.js";import{a as E}from"./index.esm-be4af3d3.js";import{T as f}from"./TextInput-5e33d81a.js";import{c as N,a as p}from"./index.esm-a02d8098.js";import{B as S}from"./BtnLoader-3848ac24.js";import"./ScrollToTop-c580bcc5.js";import"./index-933b78c2.js";const k=N().shape({password:p().required("Password is Required!"),confirmPassword:p().required("Confirm Password is Required!")}),F=()=>{const n=y(),c=R(),[l,w]=a.useState(""),[d,x]=a.useState(""),[t,m]=a.useState([]),[h,o]=a.useState(!1),g=async()=>{const s=await b({token:n.token});s.status===500&&(c("/forgot-password"),i(s.data.message,"error",1e3))};a.useEffect(()=>{g()});const P=async s=>{s.preventDefault(),o(!0);try{await k.validate({password:l,confirmPassword:d},{abortEarly:!1});const r=await v({token:n.token,password:l,confirmPassword:d});r.status===200?(o(!1),i(r.data.msg,"success",1e3),c("/login")):(o(!1),i(r.data.msg,"error",1e3))}catch(r){if(o(!1),r){let u=r.errors;m(u),u.forEach(j=>{i(j,"error",1e3)})}else m([])}};return e.jsx(e.Fragment,{children:e.jsx(q,{children:e.jsxs("div",{className:"flex flex-col space-y-10 items-center pt-20 py-32 w-full",children:[e.jsx("div",{children:e.jsx("img",{src:"/login_logo.webp"})}),e.jsxs("form",{onSubmit:P,className:"flex flex-col space-y-5 w-5/12 px-10 py-10 rounded-2xl bg-white border-[1px] border-gray-200",children:[e.jsx("h4",{className:"text-xl font-bold",children:"Reset Password"}),e.jsx(f,{width:"full",name:"password",title:"Password",type:"password",value:l,onChange:s=>w(s.target.value),error:!!(t&&t.includes("Email is Required!")),errormessage:"Email is Required!",placeholder:"******"}),e.jsx(f,{width:"full",name:"confirmPassword",title:"Re-Type Password",type:"password",value:d,onChange:s=>x(s.target.value),error:!!(t&&t.includes("Confirm Password is Required!")),errormessage:"Confirm Password is Required!",placeholder:"******"}),e.jsx("button",{className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-full bg-b3",children:h?e.jsx(S,{style:"w-7"}):e.jsxs("span",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Submit"}),e.jsx(E,{className:"text-2xl"})]})})]})]})})})};export{F as default};
