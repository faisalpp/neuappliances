import{p as y,q as l,s as N,r as o,j as e,cc as f,bo as q,av as i,cm as v,w as c}from"./index-554f52d4.js";/* empty css                      */const $=()=>{const x=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[a-zA-Z\d!@#$%^&*]{6,25}$/,h=y().shape({newPass:l().matches(x,"Password must meet the required pattern").required("New Password is required"),currentPass:l().required("Current Password is required"),confNewPass:l().oneOf([N("newPass"),null],"Passwords must match").required("Confirm New Password is required")}),[d,g]=o.useState(""),[u,P]=o.useState(""),[m,j]=o.useState(""),[s,w]=o.useState([]),[p,n]=o.useState(!1),C=async r=>{r.preventDefault(),n(!0);try{const t={currentPass:d,newPass:u,confNewPass:m};await h.validate(t,{abortEarly:!1});const a=await v(t);a.status===200?(n(!1),c(a.data.msg,"success",1e3)):(n(!1),c(a.data.message,"error",1e3))}catch(t){if(t){console.log(t.errors),n(!1);let a=t.errors;w(a),a.forEach(b=>{c(b,"error",1e3)})}else n(!1),w([])}};return e.jsxs(e.Fragment,{children:[e.jsx(f,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsx(q,{children:e.jsxs("form",{onSubmit:C,className:"w-full flex flex-col items-center gap-6 my-10",children:[e.jsx(i,{error:!!(s.length>0&&s.includes("Current Password is required")),errormessage:"Current Password is required",value:d,onChange:r=>g(r.target.value),name:"currentPass",title:"Current Password",iscompulsory:"true",type:"password",placeholder:"Enter Current Password"}),e.jsx(i,{error:!!(s.length>0&&s.includes("New Password is required")),errormessage:"New Password is Required",value:u,onChange:r=>P(r.target.value),name:"newPass",title:"New Password",iscompulsory:"true",type:"password",placeholder:"Enter Current Password"}),e.jsx(i,{error:!!(s.length>0&&s.includes("Confirm Password is required")),errormessage:"Confirm Password is Required",value:m,onChange:r=>j(r.target.value),name:"confNewPass",title:"Confirm New Password",iscompulsory:"true",type:"password",placeholder:"Enter Current Password"}),e.jsxs("div",{className:"flex justify-center space-x-2 w-full",children:[p?e.jsx("button",{type:"submit",className:"flex justify-center self-center items-center cursor-pointer rounded-md py-1 w-20 bg-b3 px-2",children:e.jsx("img",{src:"/loader-bg.gif",className:"w-5"})}):null,p?null:e.jsx("button",{type:"submit",className:"flex justify-center self-center items-center cursor-pointer rounded-md py-1 w-3/2 bg-b3",children:e.jsx("span",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:e.jsx("span",{className:"text-xs",children:"Submit"})})})]}),s.length>0?e.jsx("div",{className:"border-[1px] border-red-500 px-8 rounded-xl py-2",children:e.jsxs("ul",{className:"list-disc text-orange-500",children:[e.jsx("li",{children:"Contains at least one lowercase letter."}),e.jsx("li",{children:"Contains at least one uppercase letter."}),e.jsx("li",{children:"Contains at least one digit."}),e.jsx("li",{children:"Contains at least one special character."}),e.jsxs("li",{children:["Uses only a combination of lowercase letters,",e.jsx("br",{})," uppercase letters, and digits."]}),e.jsx("li",{children:"Has a length between 6 and 25 characters."})]})}):null]})}),e.jsx(f,{})]})};export{$ as default};
