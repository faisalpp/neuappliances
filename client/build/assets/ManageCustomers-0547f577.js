import{J as h,r as l,j as e,N as o}from"./index-9086772f.js";import{A as b}from"./AdminAccount-c0a1c178.js";import{P as f}from"./Pagination2-c10d6d97.js";import{m as j}from"./index.esm-d1123c14.js";import{T as N}from"./Table-52045503.js";import{h as c}from"./moment-fbc5633a.js";import{z as y}from"./MainLayout-9f08b4ec.js";import"./ScrollToTop-9454a300.js";import"./index-57df3b0a.js";const g=async r=>{let s;try{s=await h.post("/api/admin/get-customers",r,{validateStatus:()=>!0})}catch(a){return a}return s},S=()=>{const[r,s]=l.useState([]),a=async()=>{const t=await g({userType:"admin"});console.log(t),t.status&&s(t.data.customers)};l.useEffect(()=>{a()},[]);const i=({id:t,name:n,lastOrder:m,dateRegisterd:x,email:d,totalOrders:u,totalAmount:p})=>e.jsxs("tr",{className:"border-b border-l border-r border-b6 text-xs font-medium",children:[e.jsx("td",{className:"px-2 py-3",children:n}),e.jsx("td",{className:"px-5 py-3",children:c(m).format("DD MMMM YYYY")}),e.jsx("td",{className:"px-10 py-3",children:c(x).format("DD MMMM YYYY")}),e.jsx("td",{className:"py-3",children:e.jsx("a",{href:`mailto:${d}`,className:"underline text-b6",children:d})}),e.jsx("td",{className:"px-5 py-3",children:u}),e.jsxs("td",{className:"px-5 py-3 text-b7",children:["$",p]}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 h-full",children:[e.jsx(o,{title:"View Customer",to:`/admin/update-customer/${t}`,className:"flex items-center justify-center bg-b3 text-white hover:bg-white hover:text-b3 border-2 border-b3 hover:border-b3 text-xs px-1 w-fit h-fit rounded-full cursor-pointer py-1",children:e.jsx(j,{className:"text-sm"})}),e.jsx(o,{title:"Block Customer",to:"/admin/block-customer/:id",className:"flex items-center justify-center bg-red-500 text-white hover:bg-white hover:text-red-500 border-[1px] border-red-500 hover:border-red-500 text-sm w-fit h-fit rounded-full cursor-pointer px-1 py-1",children:e.jsx(y,{className:"text-base"})})]})})]});return e.jsx(e.Fragment,{children:e.jsxs(b,{children:[e.jsx("div",{className:"flex items-center mb-2 bg-white py-3 px-5 w-full",children:e.jsxs("div",{className:"flex w-full justify-end space-x-3",children:[e.jsx("input",{placeholder:"Search Customer",className:"text-xs px-2 outline-none border border-b3 rounded-md"}),e.jsx(o,{to:"/admin/create-product",className:"border border-b3 text-b3 text-xs px-2 rounded-md cursor-pointer py-1",children:"Search"})]})}),e.jsx(N,{head:["Name","Last Order","Date Registerd","Email","Orders","Total Spend","Action"],children:(r==null?void 0:r.length)>0?r==null?void 0:r.map(t=>e.jsx(i,{id:t.customer._id,name:`${t.customer.firstName} ${t.customer.lastName}`,lastOrder:t.lastOrder,dateRegisterd:t.customer.createdAt,email:t.customer.email,totalOrders:t.orderCount,totalAmount:t.totalAmount})):null}),e.jsx(f,{page:1,totalPages:10})]})})};export{S as default};
