import{$ as b,r as a,u as v,j as e,k as m,B as S,Q as r}from"./index-8249f110.js";import{A as N}from"./AdminAccount-91678acb.js";import{y as w,s as C}from"./admin-0a675c3f.js";const U=()=>{const{id:o}=b(),[u,i]=a.useState(""),[x,O]=a.useState(o),[p,g]=a.useState(""),[n,l]=a.useState(""),[c,d]=a.useState(""),[f,B]=a.useState([]),h=v(),j=t=>{t.target.files[0]&&(i(URL.createObjectURL(t.target.files[0])),g(t.target.files[0]))};a.useEffect(()=>{(async()=>{const s=await w({sectionItemId:x});s.status===200?(l(s.data.sectionItem[0].title),d(s.data.sectionItem[0].rating),i(s.data.sectionItem[0].image)):r.error(s.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})()},[]);const y=async t=>{t.preventDefault();const s=await C({title:n,image:p,rating:c,sectionItemId:o});s.status===200?(r.success(s.data.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),h(-1)):r.error(s.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})};return e.jsx(e.Fragment,{children:e.jsxs(N,{children:[e.jsx(m,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),e.jsx("div",{className:"flex justify-center w-full",children:e.jsxs("form",{onSubmit:y,encType:"multipart/form-data",className:"flex flex-col space-y-5 w-8/12 px-10 py-10 rounded-2xl bg-white border-[1px] border-gray-200",children:[e.jsx("div",{className:"rounded-2xl border border-gray-300 px-3 py-5 h-[225px] w-fit flex justify-center items-center self-center",children:e.jsx("img",{src:u,className:"max-w-fit h-[225px] object-contain",alt:"example"})}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("h5",{className:"text-xs font-semibold",children:"Section Item Title"}),e.jsx("input",{type:"text",value:n,onChange:t=>l(t.target.value),className:"text-sm outline-none border-[1px] border-gray-200 w-full px-4 py-3 rounded-md",placeholder:"Refregerator"})]}),f?e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("h5",{className:"text-xs font-semibold",children:"Section Item Rating"}),e.jsx("input",{type:"text",value:c,onChange:t=>d(t.target.value),className:"text-sm outline-none border-[1px] border-gray-200 w-full px-4 py-3 rounded-md",placeholder:"Enter Section Item Rating 3-5"})]}):null,e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("h5",{className:"text-xs font-semibold",children:"Section Item Image"}),e.jsx("input",{type:"file",accept:"image/jpg, image/jpeg, image/png",onChange:j,className:"text-sm outline-none border-[1px] border-gray-200 w-full px-4 py-3 rounded-md"})]}),e.jsx("button",{type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-full bg-b3",children:e.jsxs("a",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Update"}),e.jsx(S,{className:"text-2xl"})]})})]})}),e.jsx(m,{})]})})};export{U as default};
