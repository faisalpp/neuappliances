import{r as t,j as e,bs as M,v as g,ck as W,aI as X,p as I,q as x,V as Y,u as Z,af as L,av as V,bL as O,f as R,bo as ee,bP as se,bO as te,w as o}from"./index-dd833a7c.js";import{a as ae,B as re,C as le,D as ne}from"./admin-010bbc96.js";/* empty css                      */const oe=({del:y,DeleteFaq:F,setUpdatedFaqId:p,setUpdateQuestion:N,setUpdatedAnswer:D,setUpdatePopup:u,id:m,activeBg:v,activeText:f,title:i,textStyle:h,answer:w,parent:j,child:b,icon:S,isExpand:l})=>{const[c,d]=t.useState(!!l);return e.jsx(e.Fragment,{children:e.jsxs("div",{onClick:()=>{d(!c)},className:`duration-200 flex flex-col border-[1px] border-gray-200 cursor-pointer ${j} ${c?v:""}`,children:[e.jsxs("div",{className:"flex items-center justify-between w-full gap-1",children:[e.jsx("h6",{className:`${c?f:""} ${h}`,children:i}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{onClick:()=>{p(m),N(i),D(w),u(!0)},className:"p-1 bg-b6 hover:bg-white border-b3 border-2  rounded-full cursor-pointer group",children:e.jsx(M,{className:"text-white group-hover:text-b3 text-sm shadow-xl"})}),e.jsx("span",{onClick:A=>F(A,m),className:"p-1 bg-red-500 hover:bg-white border-red-500 border-2  rounded-full cursor-pointer group",children:y?e.jsx(g,{style:"w-3"}):e.jsx(W,{className:"text-white hover:text-red-300 group-hover:text-red-500 text-sm shadow-xl"})}),e.jsx(X,{className:`${S} ${c?`rotate-180 ${f}`:""} duration-200`})]})]}),e.jsx("div",{className:` ${c?`flex ${f}`:"hidden"} ${b} mt-1 duration-200`,children:e.jsx("p",{children:w})})]})})},ue=()=>{const y=I().shape({question:x().required("Question is required"),answer:x().required("Answer is required"),slug:x().required("Slug is required")}),F=I().shape({question:x().required("Question is required"),answer:x().required("Answer is required"),_id:x().required("Slug is required")}),{slug:p}=Y(),N=Z(),[D,u]=t.useState([]),[m,v]=t.useState([]),[f,i]=t.useState(!1),[h,w]=t.useState(""),[j,b]=t.useState(""),[S,l]=t.useState(!1),[c,d]=t.useState(!1),[A,T]=t.useState(!1),[C,Q]=t.useState(""),[E,$]=t.useState(""),[B,_]=t.useState(""),[G,P]=t.useState(!1),q=async()=>{P(!0);const s=await ae({slug:p});s.status===200?(P(!1),v(s.data.faqs)):P(!1)};t.useEffect(()=>{q()},[]);const z=async s=>{s.preventDefault(),l(!0);try{const r={question:h,answer:j,slug:p};await y.validate(r,{abortEarly:!1})}catch(r){if(l(!1),r){let n=r.errors;u(n),n.forEach(k=>{o(k,"error",1e3)})}else u([])}const a=await re({question:h,answer:j,slug:p});a.status===200?(i(!1),l(!1),w(""),b(""),q(),o(a.data.msg,"success",1e3)):(l(!1),i(!1),o(a.data.message,"error",1e3))},H=async s=>{s.preventDefault(),T(!0);try{const r={question:C,answer:E,_id:B};await F.validate(r,{abortEarly:!1})}catch(r){if(l(!1),r){let n=r.errors;u(n),n.forEach(k=>{o(k,"error",1e3)})}else u([])}const a=await le({question:C,answer:E,_id:B});a.status===200?(l(!1),q(),Q(""),$(""),_(""),d(!1),o(a.data.msg,"success",1e3)):(l(!1),d(!1),o(a.data.message,"error",1e3))},[J,U]=t.useState(""),K=async(s,a)=>{s.preventDefault(),U(a);const n=await ne({_id:a});n.status===200?(U(""),q(),o(n.data.msg,"success",1e3)):(U(""),o(n.data.message,"error",1e3))};return e.jsxs(e.Fragment,{children:[e.jsx(L,{state:c,setState:d,children:e.jsxs("form",{className:"flex flex-col space-y-3 w-10/12",children:[e.jsx("h1",{className:"font-semibold",children:"Update FAQ"}),e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(V,{width:"full",name:"question",title:"Faq Question",iscompulsory:"true",type:"text",value:C,onChange:s=>Q(s.target.value),placeholder:"Enter Faq Question"}),e.jsx(O,{width:"full",name:"answer",title:"Faq Answer",iscompulsory:"true",type:"text",value:E,onChange:s=>$(s.target.value),placeholder:"Enter Faq Answer"}),e.jsx("button",{onClick:H,type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-6/12 bg-b3",children:e.jsx("span",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:A?e.jsx(g,{style:"w-5"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs",children:"Update"}),e.jsx(R,{className:"text-2xl"})]})})})]})]})}),e.jsx(L,{state:f,setState:i,children:e.jsxs("form",{className:"flex flex-col space-y-3 w-10/12",children:[e.jsx("h1",{className:"font-semibold",children:"Create FAQ"}),e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[e.jsx(V,{width:"full",title:"Faq Question",iscompulsory:"true",type:"text",value:h,onChange:s=>w(s.target.value),placeholder:"Enter Faq Question"}),e.jsx(O,{width:"full",title:"Faq Answer",iscompulsory:"true",type:"text",value:j,onChange:s=>b(s.target.value),placeholder:"Enter Faq Answer"}),e.jsx("button",{onClick:z,type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-6/12 bg-b3",children:e.jsx("span",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:S?e.jsx(g,{style:"w-5"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs",children:"Create"}),e.jsx(R,{className:"text-2xl"})]})})})]})]})}),e.jsxs(ee,{children:[e.jsxs("div",{className:"flex w-full items-center space-x-3 mb-5",children:[e.jsx(se,{className:"text-2xl text-b3 cursor-pointer",onClick:()=>N(-1)}),e.jsx("div",{className:"flex w-full justify-end space-x-3",children:e.jsx(te,{onClick:()=>i(!0),className:"text-b3 text-3xl shadow-xl rounded-full cursor-pointer"})})]}),e.jsx("div",{className:"flex flex-col justify-center space-y-3",children:G?e.jsx(g,{style:"w-10"}):m.length>0?m.map((s,a)=>e.jsx(oe,{del:J,DeleteFaq:K,setUpdatedFaqId:_,setUpdatePopup:d,setUpdateQuestion:Q,setUpdatedAnswer:$,id:s._id,title:s.question,parent:"gap-3 bg-[#F8FBFB] [&>div>h6]:maxmd:text-sm text-white p-4 md:px-8 md:py-6 rounded-xl border-none text-b18 h-auto",icon:"text-xl text-black",textStyle:"font-bold text-md text-b18",child:"[&>p]:text-sm text-b18 font-normal",answer:s.answer},a)):e.jsx("h1",{children:"No FAQ's Found!"})})]})]})};export{ue as default};
