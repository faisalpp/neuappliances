import{r as t,j as e,aH as U,aL as x,ak as S,f as I,bl as B,bK as A,bq as q,bd as E,aC as i}from"./index-182e9520.js";/* empty css                      */import{u as K,g as R,d as G}from"./videoMedia-5629d047.js";const W=()=>{const[b,l]=t.useState(!1),[r,v]=t.useState("upload"),[h,N]=t.useState("home-page-hero-section"),[f,j]=t.useState("home-page-hero-section"),[P,n]=t.useState(""),[y,C]=t.useState([]),[V,c]=t.useState(!1),L=async s=>{s.preventDefault(),c(!0);const o=new FormData;o.set("uploadMedia",P),o.set("section",h),o.set("type",r);const a=await K(o);a.status===200?(i.success(a.data.msg,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),n(h),j(),p(),c(!1),l(!1)):(i.error(a.data.amessage,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),c(!1),l(!1))},[d,M]=t.useState(1),[w,Q]=t.useState(16),[F,O]=t.useState(0),[k,u]=t.useState(!1),p=async()=>{u(!0);const a=await R({page:d,limit:w},{section:f});a.status===200&&(C(a.data.media),O(Math.ceil(a.data.totalCount/w))),u(!1)};t.useEffect(()=>{p()},[f,d]);const[H,m]=t.useState(!1),T=async(s,o,a,D)=>{s.preventDefault(),m(!0);const g=await G({id:o,type:a,url:D});g.status===200?(i.success(g.data.msg,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),p(),m(!1)):(i.error(g.data.message,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),m(!1))};return e.jsxs(e.Fragment,{children:[e.jsx(U,{state:b,setState:l,children:e.jsxs("form",{onSubmit:L,className:"flex flex-col space-y-3",children:[e.jsx("h1",{className:"font-semibold",children:"Upload Loop Media"}),e.jsx(x,{widthFull:"true",name:"type",title:"Upload Type",iscompulsory:"true",onChange:s=>v(s.target.value),options:["Upload","Link","Iframe"]}),e.jsx(x,{widthFull:"true",name:"section",title:"Select Page Section",iscompulsory:"true",onChange:s=>N(s.target.value),options:["Home Page Hero Section","Home Page Tour Section","Stay In Loop Videos","Faq's Page Video","Our Story Page Video","Our Showroom Page Video","Our Compnies Page Video"]}),r==="upload"?e.jsxs("div",{className:"flex items-end space-x-3",children:[e.jsx(S,{name:"uploadUrl",title:"Video File",iscompulsory:"true",type:"file",accept:"video/*",onChange:s=>n(s.target.files[0])}),e.jsxs("a",{className:"flex items-center justify-center text-center  w-14 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Upload"})," "]})]}):null,r==="link"||r==="iframe"?e.jsx(S,{width:"full",name:"mediaUrl",title:"Media Link",iscompulsory:"true",type:"text",onChange:s=>n(s.target.value),placeholder:"Enter Media Url"}):null,e.jsx("button",{type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-full bg-b3",children:V?e.jsx("img",{src:"/loader-bg.gif",className:"w-8"}):e.jsxs("a",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Create"}),e.jsx(I,{className:"text-2xl"})]})})]})}),e.jsxs(B,{children:[e.jsxs("div",{className:"flex items-center mb-5 py-3 rounded-3xl px-10 w-full",children:[e.jsx(x,{widthFull:"false",name:"sectionType",title:"Filter Section Videos",iscompulsory:"false",onChange:s=>j(s.target.value),options:["Home Page Hero Section","Home Page Tour Section","Stay In Loop Videos","Faq's Page Video","Our Story Page Video","Our Showroom Page Video","Our Compnies Page Video"]}),e.jsx("div",{className:"flex w-full justify-end space-x-3",children:e.jsx(A,{onClick:()=>l(!0),className:"text-b3 text-3xl shadow-xl rounded-full cursor-pointer"})})]}),k?e.jsx("div",{className:"flex mt-32 justify-center w-full h-full",children:e.jsx("img",{src:"/loader-bg.gif",className:"w-24 h-24"})}):y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-4 gap-x-2 gap-y-5 w-full",children:y.map((s,o)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative  w-full",children:[s.section==="stay-in-loop-videos"?e.jsx("div",{className:"absolute right-2 bg-transparent h-10 w-10",children:e.jsx("div",{className:"flex  justify-end  w-10 h-10 mt-1 ",children:e.jsx("span",{title:"Delete Video",onClick:a=>T(a,s._id,s.type,s.url),className:"flex items-center justify-center bg-red-500 text-white hover:bg-white hover:text-red-500 hover:border-red-500 text-xs w-8 h-8 rounded-full cursor-pointer ",children:H?e.jsx("img",{src:"/loader-bg.gif",className:"w-4 h-4"}):e.jsx(q,{className:"text-sm"})})})}):null,s.type==="upload"||s.type==="link"?e.jsx("video",{controls:!0,className:"object-cover rounded-2xl xl:h-[150px] xl:w-[200px] lg:w-[200px] lg:h-32 w-32 h-32 ",src:s.url},o):null,s.type==="iframe"?e.jsx("iframe",{onLoad:()=>setVload(!1),className:"object-cover rounded-2xl xl:h-[150px] xl:w-[180px] lg:w-[200px] lg:h-32 w-32 h-32 ",src:s.url,title:"#885 Liquidation Half Truckload of 25 Scratch & Dent Kitchen and Laundry Appliances South Carolina",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"}):null]})}))}),e.jsx(E,{page:d,setPage:M,totalPages:F})]}):e.jsx("div",{className:"flex mt-32 justify-center w-full h-full",children:e.jsx("img",{src:"/not-found.webp",className:"w-36 h-36"})})]})]})};export{W as default};
