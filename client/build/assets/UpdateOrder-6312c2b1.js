import{a3 as ls,r as x,al as is,am as _,j as e,aU as Ue,an as m,aX as xe,aW as ze,bv as ns,by as Me,cr as Ye,cw as os,q as ce,cx as Ge,L as cs,cy as ps}from"./index-5bb0a42c.js";import{h as Oe}from"./moment-fbc5633a.js";import{B as ge}from"./BtnLoader-75ffe58c.js";const hs=()=>{var De,_e,Be;const ke=ls(),[Ee,fe]=x.useState(""),[r,ye]=x.useState({}),[ue,Ne]=x.useState([]),je=s=>{let n,o=[];for(n=0;n<s.length;n++){const c=o.findIndex(u=>u.pid===s[n].pid);c!==-1?o[c].count+=1:o.push({...s[n],count:1})}return o},be=["pending","rejected","completed","processing"],ve=["pending","declined","completed"],[Qe,Ae]=x.useState([]),[Ve,We]=x.useState(""),[Xe,we]=x.useState([]),[He,Je]=x.useState(""),[U,Ce]=x.useState(""),[l,h]=x.useState({id:"",email:"",firstName:"",lastName:"",address:"",appartment:"",city:"",country:"usa",state:"alberta",postalCode:"",phone:""}),[i,g]=x.useState({id:"",email:"",firstName:"",lastName:"",address:"",appartment:"",city:"",country:"usa",state:"alberta",postalCode:"",phone:""}),Ke=async()=>{var n,o,c,u,y,N,j,b,v,A,w,C,S,q,P,R,O,k,E,I,L,T,F,a,$,B,z,M,Y,G,Q,V,W,X,H,J,K,Z,ee,se,te,ae,re,de,le,ie,ne,oe;const s=await os({orderNo:ke.id});if(s.status===200){fe(s.data.order._id),ye(s.data.order),Ne(je(s.data.order.orders)),Ce(s.data.order.paymentInfo);const t=be.filter(pe=>{var f,p;return pe!==((p=(f=s==null?void 0:s.data)==null?void 0:f.order)==null?void 0:p.orderStatus)});Ae([(o=(n=s==null?void 0:s.data)==null?void 0:n.order)==null?void 0:o.orderStatus,...t]);const me=ve.filter(pe=>{var f,p;return pe!==((p=(f=s==null?void 0:s.data)==null?void 0:f.order)==null?void 0:p.paymentStatus)});we([(u=(c=s==null?void 0:s.data)==null?void 0:c.order)==null?void 0:u.paymentStatus,...me]),h({id:(N=(y=s.data.order)==null?void 0:y.shippingAddress)==null?void 0:N._id,email:(b=(j=s.data.order)==null?void 0:j.shippingAddress)==null?void 0:b.email,firstName:(A=(v=s.data.order)==null?void 0:v.shippingAddress)==null?void 0:A.firstName,lastName:(C=(w=s.data.order)==null?void 0:w.shippingAddress)==null?void 0:C.lastName,address:(q=(S=s.data.order)==null?void 0:S.shippingAddress)==null?void 0:q.address,appartment:(R=(P=s.data.order)==null?void 0:P.shippingAddress)==null?void 0:R.appartment,city:(k=(O=s.data.order)==null?void 0:O.shippingAddress)==null?void 0:k.city,country:(I=(E=s.data.order)==null?void 0:E.shippingAddress)==null?void 0:I.country,state:(T=(L=s.data.order)==null?void 0:L.shippingAddress)==null?void 0:T.state,postalCode:(a=(F=s.data.order)==null?void 0:F.shippingAddress)==null?void 0:a.postalCode,phone:(B=($=s.data.order)==null?void 0:$.shippingAddress)==null?void 0:B.phone}),g({id:(M=(z=s.data.order)==null?void 0:z.billingAddress)==null?void 0:M._id,email:(G=(Y=s.data.order)==null?void 0:Y.billingAddress)==null?void 0:G.email,firstName:(V=(Q=s.data.order)==null?void 0:Q.billingAddress)==null?void 0:V.firstName,lastName:(X=(W=s.data.order)==null?void 0:W.billingAddress)==null?void 0:X.lastName,address:(J=(H=s.data.order)==null?void 0:H.billingAddress)==null?void 0:J.address,appartment:(Z=(K=s.data.order)==null?void 0:K.billingAddress)==null?void 0:Z.appartment,city:(se=(ee=s.data.order)==null?void 0:ee.billingAddress)==null?void 0:se.city,country:(ae=(te=s.data.order)==null?void 0:te.billingAddress)==null?void 0:ae.country,state:(de=(re=s.data.order)==null?void 0:re.billingAddress)==null?void 0:de.state,postalCode:(ie=(le=s.data.order)==null?void 0:le.billingAddress)==null?void 0:ie.postalCode,phone:(oe=(ne=s.data.order)==null?void 0:ne.billingAddress)==null?void 0:oe.phone})}else ce(s.data.message,"error",1e3)};x.useEffect(()=>{Ke()},[ke]);const[Ie,Se]=x.useState(!1),Ze=async s=>{var n,o,c,u,y,N,j,b,v,A,w,C,S,q,P,R,O,k,E,I,L,T,F,a,$,B,z,M,Y,G,Q,V,W,X,H,J,K,Z,ee,se,te,ae,re,de,le,ie,ne,oe;if(!Ie){s.preventDefault(),Se(!0);const t=await Ge({orderId:Ee,type:"order",status:Ve});if(t.status===200){Se(!1),ce(t.data.msg,"success",1e3),fe(t.data.order._id),ye(t.data.order),Ne(je(t.data.order.orders)),Ce(t.data.order.paymentInfo);const me=be.filter(f=>{var p,D;return f!==((D=(p=t==null?void 0:t.data)==null?void 0:p.order)==null?void 0:D.orderStatus)});Ae([(o=(n=t==null?void 0:t.data)==null?void 0:n.order)==null?void 0:o.orderStatus,...me]);const pe=ve.filter(f=>{var p,D;return f!==((D=(p=t==null?void 0:t.data)==null?void 0:p.order)==null?void 0:D.paymentStatus)});we([(u=(c=t==null?void 0:t.data)==null?void 0:c.order)==null?void 0:u.paymentStatus,...pe]),h({id:(N=(y=t.data.order)==null?void 0:y.shippingAddress)==null?void 0:N._id,email:(b=(j=t.data.order)==null?void 0:j.shippingAddress)==null?void 0:b.email,firstName:(A=(v=t.data.order)==null?void 0:v.shippingAddress)==null?void 0:A.firstName,lastName:(C=(w=t.data.order)==null?void 0:w.shippingAddress)==null?void 0:C.lastName,address:(q=(S=t.data.order)==null?void 0:S.shippingAddress)==null?void 0:q.address,appartment:(R=(P=t.data.order)==null?void 0:P.shippingAddress)==null?void 0:R.appartment,city:(k=(O=t.data.order)==null?void 0:O.shippingAddress)==null?void 0:k.city,country:(I=(E=t.data.order)==null?void 0:E.shippingAddress)==null?void 0:I.country,state:(T=(L=t.data.order)==null?void 0:L.shippingAddress)==null?void 0:T.state,postalCode:(a=(F=t.data.order)==null?void 0:F.shippingAddress)==null?void 0:a.postalCode,phone:(B=($=t.data.order)==null?void 0:$.shippingAddress)==null?void 0:B.phone}),g({id:(M=(z=t.data.order)==null?void 0:z.billingAddress)==null?void 0:M._id,email:(G=(Y=t.data.order)==null?void 0:Y.billingAddress)==null?void 0:G.email,firstName:(V=(Q=t.data.order)==null?void 0:Q.billingAddress)==null?void 0:V.firstName,lastName:(X=(W=t.data.order)==null?void 0:W.billingAddress)==null?void 0:X.lastName,address:(J=(H=t.data.order)==null?void 0:H.billingAddress)==null?void 0:J.address,appartment:(Z=(K=t.data.order)==null?void 0:K.billingAddress)==null?void 0:Z.appartment,city:(se=(ee=t.data.order)==null?void 0:ee.billingAddress)==null?void 0:se.city,country:(ae=(te=t.data.order)==null?void 0:te.billingAddress)==null?void 0:ae.country,state:(de=(re=t.data.order)==null?void 0:re.billingAddress)==null?void 0:de.state,postalCode:(ie=(le=t.data.order)==null?void 0:le.billingAddress)==null?void 0:ie.postalCode,phone:(oe=(ne=t.data.order)==null?void 0:ne.billingAddress)==null?void 0:oe.phone})}else Se(!1),ce(t.data.message,"error",1e3)}},[Le,qe]=x.useState(!1),es=async s=>{var n,o,c,u,y,N,j,b,v,A,w,C,S,q,P,R,O,k,E,I,L,T,F,a,$,B,z,M,Y,G,Q,V,W,X,H,J,K,Z,ee,se,te,ae,re,de,le,ie,ne,oe;if(!Le){s.preventDefault(),qe(!0);const t=await Ge({orderId:Ee,type:"payment",status:He});if(t.status===200){qe(!1),ce(t.data.msg,"success",1e3),fe(t.data.order._id),ye(t.data.order),Ne(je(t.data.order.orders)),Ce(t.data.order.paymentInfo);const me=be.filter(f=>{var p,D;return f!==((D=(p=t==null?void 0:t.data)==null?void 0:p.order)==null?void 0:D.orderStatus)});Ae([(o=(n=t==null?void 0:t.data)==null?void 0:n.order)==null?void 0:o.orderStatus,...me]);const pe=ve.filter(f=>{var p,D;return f!==((D=(p=t==null?void 0:t.data)==null?void 0:p.order)==null?void 0:D.paymentStatus)});we([(u=(c=t==null?void 0:t.data)==null?void 0:c.order)==null?void 0:u.paymentStatus,...pe]),h({id:(N=(y=t.data.order)==null?void 0:y.shippingAddress)==null?void 0:N._id,email:(b=(j=t.data.order)==null?void 0:j.shippingAddress)==null?void 0:b.email,firstName:(A=(v=t.data.order)==null?void 0:v.shippingAddress)==null?void 0:A.firstName,lastName:(C=(w=t.data.order)==null?void 0:w.shippingAddress)==null?void 0:C.lastName,address:(q=(S=t.data.order)==null?void 0:S.shippingAddress)==null?void 0:q.address,appartment:(R=(P=t.data.order)==null?void 0:P.shippingAddress)==null?void 0:R.appartment,city:(k=(O=t.data.order)==null?void 0:O.shippingAddress)==null?void 0:k.city,country:(I=(E=t.data.order)==null?void 0:E.shippingAddress)==null?void 0:I.country,state:(T=(L=t.data.order)==null?void 0:L.shippingAddress)==null?void 0:T.state,postalCode:(a=(F=t.data.order)==null?void 0:F.shippingAddress)==null?void 0:a.postalCode,phone:(B=($=t.data.order)==null?void 0:$.shippingAddress)==null?void 0:B.phone}),g({id:(M=(z=t.data.order)==null?void 0:z.billingAddress)==null?void 0:M._id,email:(G=(Y=t.data.order)==null?void 0:Y.billingAddress)==null?void 0:G.email,firstName:(V=(Q=t.data.order)==null?void 0:Q.billingAddress)==null?void 0:V.firstName,lastName:(X=(W=t.data.order)==null?void 0:W.billingAddress)==null?void 0:X.lastName,address:(J=(H=t.data.order)==null?void 0:H.billingAddress)==null?void 0:J.address,appartment:(Z=(K=t.data.order)==null?void 0:K.billingAddress)==null?void 0:Z.appartment,city:(se=(ee=t.data.order)==null?void 0:ee.billingAddress)==null?void 0:se.city,country:(ae=(te=t.data.order)==null?void 0:te.billingAddress)==null?void 0:ae.country,state:(de=(re=t.data.order)==null?void 0:re.billingAddress)==null?void 0:de.state,postalCode:(ie=(le=t.data.order)==null?void 0:le.billingAddress)==null?void 0:ie.postalCode,phone:(oe=(ne=t.data.order)==null?void 0:ne.billingAddress)==null?void 0:oe.phone})}else qe(!1),ce(t.data.message,"error",1e3)}},ss=({image:s,title:n,price:o,quantity:c})=>e.jsxs("tr",{className:"border-b border-l border-r border-b6 text-xs font-semibold",children:[e.jsx("td",{className:"whitespace-nowrap flex justify-center px-5 py-3",children:e.jsx("img",{src:s,className:"w-10"})}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3",children:e.jsx(cs,{to:`/product/${n.toLowerCase().replace(/\s/g,"-")}`,className:"underline text-b6",children:n})}),e.jsxs("td",{className:"whitespace-nowrap px-5 py-3 text-b7 ",children:["$",o]}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3",children:"x"}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3",children:c}),e.jsxs("td",{className:"whitespace-nowrap px-5 py-3 text-red-500",children:["$",c*o]})]}),ts=({total:s,shipping:n,tax:o,grandTotal:c,coupen:u})=>e.jsx(e.Fragment,{children:e.jsxs("tr",{className:"border-b border-l border-r border-b6 text-xs",children:[e.jsxs("td",{className:"px-2 py-3 font-semibold",children:["$",s]}),e.jsx("td",{className:"px-2 py-3 font-semibold",children:u}),e.jsx("td",{className:"px-2 py-3 font-semibold",children:n}),e.jsxs("td",{className:"px-2 py-3 font-semibold",children:["$",o]}),e.jsxs("td",{className:"px-2 py-3 font-semibold",children:["$",c]})]})}),as=is().shape({id:_().required("Id is Required!"),email:_().required("Email is Required!"),firstName:_().nullable(),lastName:_().required("Last Name is Required!"),address:_().required("Address is Required!"),appartment:_().nullable(),state:_().required("State is Required!"),city:_().required("City is Required!"),country:_().required("Country is Required!"),postalCode:_().required("Postal Code is Required!"),phone:_().required("Phone is Required!")}),[d,Te]=x.useState([]),[Fe,he]=x.useState(!1),[rs,Pe]=x.useState(!1),[ds,Re]=x.useState(!1),$e=async(s,n)=>{var o,c,u,y,N,j,b,v,A,w,C,S,q,P,R,O,k,E,I,L,T,F;s.preventDefault(),he(!0);try{await as.validate(n,{abortEarly:!1});const a=await ps(n);a.status===200?(h({id:(c=(o=a==null?void 0:a.data)==null?void 0:o.address)==null?void 0:c._id,email:(y=(u=a==null?void 0:a.data)==null?void 0:u.address)==null?void 0:y.email,firstName:(j=(N=a==null?void 0:a.data)==null?void 0:N.address)==null?void 0:j.firstName,lastName:(v=(b=a==null?void 0:a.data)==null?void 0:b.address)==null?void 0:v.lastName,address:(w=(A=a==null?void 0:a.data)==null?void 0:A.address)==null?void 0:w.address,appartment:(S=(C=a==null?void 0:a.data)==null?void 0:C.address)==null?void 0:S.appartment,city:(P=(q=a==null?void 0:a.data)==null?void 0:q.address)==null?void 0:P.city,country:(O=(R=a==null?void 0:a.data)==null?void 0:R.address)==null?void 0:O.country,state:(E=(k=a==null?void 0:a.data)==null?void 0:k.address)==null?void 0:E.state,postalCode:(L=(I=a==null?void 0:a.data)==null?void 0:I.address)==null?void 0:L.postalCode,phone:(F=(T=a==null?void 0:a.data)==null?void 0:T.address)==null?void 0:F.phone}),Pe(!1),Re(!1),he(!1),ce(a.data.msg,"success",1e3)):(he(!1),ce(a.data.message,"error",1e3))}catch(a){if(he(!1),a){let $=a.errors;Te($),$.forEach(B=>{ce(B,"error",1e3)})}else Te([])}};return e.jsxs(e.Fragment,{children:[e.jsx(Ue,{state:rs,setState:Pe,zindex:"z-[99]",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-center",children:"Update Shipping Address"}),e.jsxs("div",{className:"space-y-14px [&>*]:text-b16 [&>*]:text-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-b16",children:"Contact information"}),e.jsx(m,{width:"full",name:"Email",title:"Email",iscompulsory:"false",type:"text",value:l.email,onChange:s=>h({...l,email:s.target.value}),error:!!(d&&d.includes("Email is Required!")),errormessage:"Email is Required!",placeholder:"abc@gmail.com"})]}),e.jsxs("div",{className:"space-y-14px mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-b16",children:"Shipping address"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(m,{width:"full",name:"firstName",title:"",iscompulsory:"false",type:"text",value:l.firstName,onChange:s=>h({...l,firstName:s.target.value}),error:!!(d&&d.includes("First Name is Required!")),errormessage:"First Name is Required!",placeholder:"First Name (optional)"}),e.jsx(m,{width:"full",name:"lastName",title:"",iscompulsory:"false",type:"text",value:l.lastName,onChange:s=>h({...l,lastName:s.target.value}),error:!!(d&&d.includes("Last Name is Required!")),errormessage:"Last Name is Required!",placeholder:"Last Name"}),e.jsxs("div",{className:"col-span-2 space-y-3",children:[e.jsx(m,{width:"full",name:"address",title:"",iscompulsory:"false",type:"text",value:l.address,onChange:s=>h({...l,address:s.target.value}),error:!!(d&&d.includes("Address is Required!")),errormessage:"Address is Required!",placeholder:"Address"}),e.jsx(m,{width:"full",name:"appartment",title:"",iscompulsory:"false",type:"text",value:l.appartment,onChange:s=>h({...l,apparment:s.target.value}),error:!!(d&&d.includes("Apartment, suite is Required!")),errormessage:"Apartment, suite is Required!",placeholder:"Apartment, suite, etc. (optional)"}),e.jsx(m,{width:"full",name:"city",title:"",iscompulsory:"false",type:"text",value:l.city,onChange:s=>h({...l,city:s.target.value}),error:!!(d&&d.includes("City is Required!")),errormessage:"City is Required!",placeholder:"City"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-14px",children:[e.jsx(xe,{widthFull:"true",onChange:s=>h({...l,state:s.target.value}),id:"province",label:"Province",options:["Alberta"]}),e.jsx(xe,{widthFull:"true",onChange:s=>h({...l,country:s.target.value}),id:"country_region",label:"Country / region",options:["USA"]}),e.jsx("div",{className:"relative flex items-center col-span-2 md:col-span-1 [&>*]:h-full",children:e.jsx(m,{width:"full",name:"postalCode",title:"",iscompulsory:"false",type:"text",value:l.postalCode,onChange:s=>h({...l,postalCode:s.target.value}),error:!!(d&&d.includes("Postal Code is Required!")),errormessage:"Postal Code is Required!",placeholder:"Postal Code"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{width:"full",name:"phone",title:"",iscompulsory:"false",type:"text",value:l.phone,onChange:s=>h({...l,phone:s.target.value}),error:!!(d&&d.includes("Phone is Required!")),errormessage:"Phone is Required!",placeholder:"Phone"}),e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx(ze,{className:"text-2xl text-b3"})})]})]})]}),e.jsx("div",{className:"flex w-full justify-center",children:Fe?e.jsx(ge,{style:"w-5"}):e.jsx("button",{type:"button",onClick:s=>$e(s,l),className:"bg-b6 text-white px-3 text-sm py-2 rounded-2xl",children:"Save Addresss"})})]})]})}),e.jsx(Ue,{state:ds,setState:Re,zindex:"z-[99]",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-center",children:"Update Billing Address"}),e.jsxs("div",{className:"space-y-14px [&>*]:text-b16 [&>*]:text-sm",children:[e.jsx("h3",{className:"text-sm font-medium text-b16",children:"Contact information"}),e.jsx(m,{width:"full",name:"Email",title:"Email",iscompulsory:"false",type:"text",value:i.email,onChange:s=>g({...i,email:s.target.value}),error:!!(d&&d.includes("Email is Required!")),errormessage:"Email is Required!",placeholder:"abc@gmail.com"})]}),e.jsxs("div",{className:"space-y-14px mt-8",children:[e.jsx("h3",{className:"text-lg font-medium text-b16",children:"Billing address"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(m,{width:"full",name:"firstName",title:"",iscompulsory:"false",type:"text",value:i.firstName,onChange:s=>g({...i,firstName:s.target.value}),error:!!(d&&d.includes("First Name is Required!")),errormessage:"First Name is Required!",placeholder:"First Name (optional)"}),e.jsx(m,{width:"full",name:"lastName",title:"",iscompulsory:"false",type:"text",value:i.lastName,onChange:s=>g({...i,lastName:s.target.value}),error:!!(d&&d.includes("Last Name is Required!")),errormessage:"Last Name is Required!",placeholder:"Last Name"}),e.jsxs("div",{className:"col-span-2 space-y-3",children:[e.jsx(m,{width:"full",name:"address",title:"",iscompulsory:"false",type:"text",value:i.address,onChange:s=>g({...i,address:s.target.value}),error:!!(d&&d.includes("Address is Required!")),errormessage:"Address is Required!",placeholder:"Address"}),e.jsx(m,{width:"full",name:"appartment",title:"",iscompulsory:"false",type:"text",value:i.appartment,onChange:s=>g({...i,apparment:s.target.value}),error:!!(d&&d.includes("Apartment, suite is Required!")),errormessage:"Apartment, suite is Required!",placeholder:"Apartment, suite, etc. (optional)"}),e.jsx(m,{width:"full",name:"city",title:"",iscompulsory:"false",type:"text",value:i.city,onChange:s=>g({...i,city:s.target.value}),error:!!(d&&d.includes("City is Required!")),errormessage:"City is Required!",placeholder:"City"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 items-center gap-14px",children:[e.jsx(xe,{widthFull:"true",onChange:s=>g({...i,state:s.target.value}),id:"province",label:"Province",options:["Alberta"]}),e.jsx(xe,{widthFull:"true",onChange:s=>g({...i,country:s.target.value}),id:"country_region",label:"Country / region",options:["USA"]}),e.jsx("div",{className:"relative flex items-center col-span-2 md:col-span-1 [&>*]:h-full",children:e.jsx(m,{width:"full",name:"postalCode",title:"",iscompulsory:"false",type:"text",value:i.postalCode,onChange:s=>g({...i,postalCode:s.target.value}),error:!!(d&&d.includes("Postal Code is Required!")),errormessage:"Postal Code is Required!",placeholder:"Postal Code"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{width:"full",name:"phone",title:"",iscompulsory:"false",type:"text",value:i.phone,onChange:s=>g({...i,phone:s.target.value}),error:!!(d&&d.includes("Phone is Required!")),errormessage:"Phone is Required!",placeholder:"Phone"}),e.jsx("div",{className:"absolute right-3 top-3",children:e.jsx(ze,{className:"text-2xl text-b3"})})]})]})]}),e.jsx("div",{className:"flex w-full justify-center",children:Fe?e.jsx(ge,{style:"w-5"}):e.jsx("button",{type:"button",onClick:s=>$e(s,i),className:"bg-b6 text-white px-3 text-sm py-2 rounded-2xl",children:"Save Addresss"})})]})]})}),e.jsxs(ns,{children:[e.jsxs("div",{className:"flex w-full",children:[e.jsx("div",{className:"w-full",children:e.jsxs("h3",{className:"text-base font-semibold",children:["Order # ",e.jsx("span",{className:"text-red-500",children:r.orderNo})," details"]})}),e.jsxs("div",{className:"flex space-x-2 mr-4 justify-center items-center",children:[e.jsx("h3",{className:"text-xs font-semibold mb-2 mt-2",children:"Order Details:"}),r.orderStatus==="pending"?e.jsx("span",{className:"bg-yellow-500/30 text-yellow-700 px-2 rounded-lg py-1 text-xs",children:"Pending"}):null,r.orderStatus==="rejected"?e.jsx("span",{className:"bg-red-500/30 text-red-500 px-2 rounded-lg py-1 text-xs",children:"Rejected"}):null,r.orderStatus==="completed"?e.jsx("span",{className:"bg-b6/30 text-b6 px-2 rounded-lg py-1 text-xs",children:"Completed"}):null,r.orderStatus==="processing"?e.jsx("span",{className:"bg-b10/30 text-b10 px-2 rounded-lg py-1 text-xs",children:"Processing"}):null]}),e.jsxs("div",{className:"flex space-x-2 justify-center items-center",children:[e.jsx("h3",{className:"text-xs font-semibold mb-2 mt-2",children:"Payment Details:"}),r.paymentStatus==="pending"?e.jsx("span",{className:"bg-yellow-500/30 text-yellow-700 px-2 rounded-lg py-1 text-xs",children:"Pending"}):null,r.paymentStatus==="declined"?e.jsx("span",{className:"bg-red-500/30 text-red-500 px-2 rounded-lg py-1 text-xs",children:"Declined"}):null,r.paymentStatus==="completed"?e.jsx("span",{className:"bg-b6/30 text-b6 px-2 rounded-lg py-1 text-xs",children:"Completed"}):null]})]}),e.jsxs("div",{className:"flex space-x-3 mt-5",children:[e.jsxs("div",{className:"flex flex-col w-1/2",children:[e.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Order Details"}),e.jsxs("div",{className:"flex flex-col space-y-2 px-5 py-5 rounded-lg border-[1px]",children:[e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Order Type: "}),e.jsxs("span",{className:"capitalize",children:[" ",r.orderType]})]}),r.orderType==="pickup"?e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Pickup Location: "})," ",r==null?void 0:r.shipping]}):null,r.orderType==="delivery"?e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Delivery Location: "})," ",r==null?void 0:r.shipping]}):null,e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Customer IP: "}),r==null?void 0:r.customerIp]}),e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Placed On: "}),Oe(r.createdAt).format("DD MMMM YYYY")]}),e.jsxs("div",{className:"border-[1px] px-2 py-2 rounded-lg space-y-1",children:[e.jsxs("div",{className:"flex text-xs text-gray-500 w-full",children:[e.jsx("span",{className:"text-black w-full",children:"Customer: "}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("a",{className:"underline text-b6 cursor-pointer",children:"Customer Profile"}),e.jsx("a",{className:"underline text-b6 cursor-pointer",children:"View Other Orders"})]})]}),e.jsxs("h3",{className:"text-xs text-gray-500",children:[(De=r==null?void 0:r.customerId)==null?void 0:De.firstName," ",(_e=r==null?void 0:r.customerId)==null?void 0:_e.lastName," (",(Be=r==null?void 0:r.customerId)==null?void 0:Be.email,")"]})]}),e.jsxs("form",{onSubmit:Ze,className:"flex space-x-4 items-center",children:[e.jsx("h3",{className:"text-xs ",children:"Order Status:"}),e.jsx(xe,{height:"h-8",onChange:s=>We(s.target.value),textSize:"text-xs capitalize",options:Qe}),e.jsx("button",{className:"text-xs bg-b6 h-fit w-fit px-3 py-1 rounded-lg text-white",children:Ie?e.jsx(ge,{style:"w-4"}):e.jsx("span",{children:"Save"})})]})]})]}),e.jsxs("div",{className:"flex flex-col w-1/2",children:[e.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Payment Details"}),e.jsxs("div",{className:"flex flex-col space-y-2 px-5 py-5 rounded-lg border-[1px]",children:[e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Payment Method: "}),"Card"]}),e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Paid On: "}),Oe(Oe.unix(U==null?void 0:U.created)).format("DD MMMM YYYY")]}),e.jsxs("h3",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"text-black",children:"Payment Intent: "}),e.jsx("a",{target:"_blank",href:`https://dashboard.stripe.com/test/payments/${U==null?void 0:U.id}`,className:"underline text-b6 cursor-pointer ",children:U==null?void 0:U.id})]}),e.jsxs("form",{onSubmit:es,className:"flex space-x-4 items-center",children:[e.jsx("h3",{className:"text-xs ",children:"Payment Status:"}),e.jsx(xe,{height:"h-8",onChange:s=>Je(s.target.value),textSize:"text-xs capitalize",options:Xe}),e.jsx("button",{className:"text-xs bg-b6 h-fit w-fit px-3 py-1 rounded-lg text-white",children:Le?e.jsx(ge,{style:"w-4"}):e.jsx("span",{children:"Save"})})]})]})]})]}),e.jsxs("div",{className:"flex space-x-5 mt-5 w-full",children:[l?e.jsxs("div",{className:"flex flex-col space-y-2 w-1/2",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Shipping Address"}),e.jsxs("div",{className:"relative border-[1px] rounded-lg px-4 py-4 w-full",children:[e.jsx("button",{type:"button",onClick:()=>Pe(!0),title:"Edit Shipping Info",className:"absolute right-2 flex items-center justify-center bg-b3 text-white hover:bg-white hover:text-b3 border-2 border-white hover:border-b3 text-xs px-2 w-fit rounded-full cursor-pointer py-2",children:e.jsx(Me,{className:"text-sm"})}),e.jsxs("h4",{className:"text-xs text-gray-500",children:[l.firstName," ",l.lastName]}),e.jsxs("p",{className:"text-xs flex flex-wrap",children:[l.address," ",l.city," ",l.state," ",l.country]}),e.jsx("p",{className:"text-xs flex flex-wrap",children:l.postalCode}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("h3",{className:"text-xs",children:"Email Address:"}),e.jsx("a",{href:`mailto:${l.email}`,className:"text-xs underline text-b6",children:l.email})]}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("h3",{className:"text-xs",children:"Phone:"}),e.jsx("a",{href:`tel:${l.phone}`,className:"text-xs underline text-b6",children:l.phone})]})]})]}):null,i?e.jsxs("div",{className:"flex flex-col space-y-2 w-1/2",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Billing Address"}),e.jsxs("div",{className:"relative border-[1px] rounded-lg px-4 py-4 w-full",children:[e.jsx("button",{type:"button",onClick:()=>Re(!0),title:"Edit Billing Info",className:"absolute right-2 flex items-center justify-center bg-b3 text-white hover:bg-white hover:text-b3 border-2 border-white hover:border-b3 text-xs px-2 w-fit rounded-full cursor-pointer py-2",children:e.jsx(Me,{className:"text-sm"})}),e.jsxs("h4",{className:"text-xs text-gray-500",children:[i.firstName," ",i.lastName]}),e.jsxs("p",{className:"text-xs flex flex-wrap",children:[i.address," ",i.city," ",i.state," ",i.country]}),e.jsx("p",{className:"text-xs flex flex-wrap",children:i.postalCode}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("h3",{className:"text-xs",children:"Email Address:"}),e.jsx("a",{href:`mailto:${i.email}`,className:"text-xs underline text-b6",children:i.email})]}),e.jsxs("div",{className:"flex flex-col mt-2",children:[e.jsx("h3",{className:"text-xs",children:"Phone:"}),e.jsx("a",{href:`tel:${i.phone}`,className:"text-xs underline text-b6",children:i.phone})]})]})]}):null]}),e.jsxs("div",{className:"mt-5",children:[e.jsx("h3",{className:"text-sm font-semibold",children:"Order Products"}),e.jsx(Ye,{head:["Image","Title","Price","","QTY","Total"],children:ue&&(ue==null?void 0:ue.map(s=>e.jsx(ss,{image:s.image,title:s.title,price:s.salePrice?s.salePrice:s.regPrice,quantity:s.count})))})]}),e.jsx("div",{children:e.jsx(Ye,{head:["Sub Total","Coupen","Shipping","Tax","Grand Total"],children:e.jsx(ts,{coupen:"N/A",total:r.total,shipping:r.orderType==="pickup"?"Free":`$${r.shipping}`,tax:r.tax,grandTotal:r.grandTotal})})})]})]})};export{hs as default};
