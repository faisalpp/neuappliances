import{j as e,N as c,I as j,r as n}from"./index-6f024e59.js";import{A as b}from"./AdminAccount-29a528cc.js";import{P as f}from"./Pagination2-0efdfb31.js";import{m as x}from"./index.esm-07b601df.js";import{T as N}from"./Table-9c982d07.js";import{h as m}from"./moment-fbc5633a.js";import{A as y}from"./MainLayout-7db25bd6.js";import"./ScrollToTop-c496a034.js";import"./index-38501678.js";const o=({name:t,lastActive:r,dateReg:a,email:l,orders:s,totalSpend:d})=>e.jsxs("tr",{className:"border-b border-l border-r border-b6 text-xs",children:[e.jsx("td",{className:"whitespace-nowrap px-5 py-3 capitalize",children:t}),e.jsx("td",{className:"whitespace-nowrap px-5 py-3 capitalize",children:r}),e.jsx("td",{className:"whitespace-nowrap  px-5 py-4 font-medium",children:a}),e.jsx("td",{className:"whitespace-nowrap  px-5 py-4 text-b6 font-medium",children:e.jsx("a",{href:`mailto:${l}`,className:"underline",children:l})}),e.jsx("td",{className:"whitespace-nowrap  px-5 py-4 font-medium",children:s}),e.jsxs("td",{className:"whitespace-nowrap  px-5 py-4 text-b6 font-medium",children:["$",d]}),e.jsx("td",{className:"flex items-center justify-center whitespace-nowrap space-x-1 px-5 py-4",children:e.jsx(c,{title:"View Section Item",to:"/admin/update-customer",className:"flex items-center justify-center bg-b3 text-white hover:bg-white hover:text-b3 border-2 border-white hover:border-b3 text-sm px-2 w-fit rounded-full cursor-pointer py-2",children:e.jsx(x,{className:"text-base"})})})]}),g=()=>e.jsx("div",{className:"flex flex-col",children:e.jsx("div",{className:"overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsx("div",{className:"inline-block min-w-full py-2 sm:px-6 lg:px-8",children:e.jsx("div",{className:"overflow-hidden",children:e.jsxs("table",{className:"min-w-full text-center text-sm font-light",children:[e.jsx("thead",{className:"border-b border-l border-r border-b3 bg-b3 font-medium text-white",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:" px-6 py-4",children:"Name"}),e.jsx("th",{scope:"col",className:" px-6 py-4",children:"LastÂ Order"}),e.jsx("th",{scope:"col",className:" px-6 py-4",children:"Date Registered"}),e.jsx("th",{scope:"col",className:" px-6 py-4",children:"Email"}),e.jsx("th",{scope:"col",className:" px-6 py-4",children:"Orders"}),e.jsx("th",{scope:"col",className:" px-6 py-4",children:"Total Spend"}),e.jsx("th",{scope:"col",className:" px-6 py-4",children:"Action"})]})}),e.jsxs("tbody",{children:[e.jsx(o,{name:"jhon Doe",lastActive:"July 13, 2023",dateReg:"July 13, 2023",email:"gagan@gmail.com",orders:1,totalSpend:360}),e.jsx(o,{name:"jhon Doe",lastActive:"July 13, 2023",dateReg:"July 13, 2023",email:"gagan@gmail.com",orders:1,totalSpend:360}),e.jsx(o,{name:"jhon Doe",lastActive:"July 13, 2023",dateReg:"July 13, 2023",email:"gagan@gmail.com",orders:1,totalSpend:360}),e.jsx(o,{name:"jhon Doe",lastActive:"July 13, 2023",dateReg:"July 13, 2023",email:"gagan@gmail.com",orders:1,totalSpend:360})]})]})})})})}),w=async t=>{let r;try{r=await j.post("/api/admin/get-customers",t,{validateStatus:()=>!0})}catch(a){return a}return r},Y=()=>{const[t,r]=n.useState([]),a=async()=>{const s=await w({userType:"admin"});console.log(s),s.status&&r(s.data.customers)};n.useEffect(()=>{a()},[]);const l=({name:s,lastOrder:d,dateRegisterd:p,email:i,totalOrders:h,totalAmount:u})=>e.jsxs("tr",{className:"border-b border-l border-r border-b6 text-xs font-medium",children:[e.jsx("td",{className:"px-2 py-3",children:s}),e.jsx("td",{className:"px-5 py-3",children:m(d).format("DD MMMM YYYY")}),e.jsx("td",{className:"px-10 py-3",children:m(p).format("DD MMMM YYYY")}),e.jsx("td",{className:"py-3",children:e.jsx("a",{href:`mailto:${i}`,className:"underline text-b6",children:i})}),e.jsx("td",{className:"px-5 py-3",children:h}),e.jsxs("td",{className:"px-5 py-3 text-b7",children:["$",u]}),e.jsx("td",{children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 h-full",children:[e.jsx(c,{title:"View Customer",to:"/admin/update-order",className:"flex items-center justify-center bg-b3 text-white hover:bg-white hover:text-b3 border-2 border-b3 hover:border-b3 text-xs px-1 w-fit h-fit rounded-full cursor-pointer py-1",children:e.jsx(x,{className:"text-sm"})}),e.jsx(c,{title:"Block Customer",to:"/admin/update-order",className:"flex items-center justify-center bg-red-500 text-white hover:bg-white hover:text-red-500 border-[1px] border-red-500 hover:border-red-500 text-sm w-fit h-fit rounded-full cursor-pointer px-1 py-1",children:e.jsx(y,{className:"text-base"})})]})})]});return e.jsx(e.Fragment,{children:e.jsxs(b,{children:[e.jsx("div",{className:"flex items-center mb-2 bg-white py-3 px-5 w-full",children:e.jsxs("div",{className:"flex w-full justify-end space-x-3",children:[e.jsx("input",{placeholder:"Search Customer",className:"text-xs px-2 outline-none border border-b3 rounded-md"}),e.jsx(c,{to:"/admin/create-product",className:"border border-b3 text-b3 text-xs px-2 rounded-md cursor-pointer py-1",children:"Search"})]})}),e.jsx(g,{}),e.jsx(N,{head:["Name","Last Order","Date Registerd","Email","Orders","Total Spend","Action"],children:(t==null?void 0:t.length)>0?t==null?void 0:t.map(s=>e.jsx(l,{name:`${s.customer.firstName} ${s.customer.lastName}`,lastOrder:s.lastOrder,dateRegisterd:s.customer.createdAt,email:s.customer.email,totalOrders:s.orderCount,totalAmount:s.totalAmount})):null}),e.jsx(f,{page:1,totalPages:10})]})})};export{Y as default};
