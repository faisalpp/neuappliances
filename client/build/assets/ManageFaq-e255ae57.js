import{r as a,j as e,bv as h,bA as f,B as b,bd as P,bE as k,bh as A,N as O,bl as B,Q as i}from"./index-03b17c2f.js";import{g as U,v as H,w as I}from"./admin-f5dae999.js";import{c as g,a as c}from"./index.esm-2517873a.js";const _=()=>{const j=g().shape({title:c().required("Title is required")}),T=g().shape({title:c().required("Title is required"),_id:c().required("Id is required")}),[q,l]=a.useState(!1),[v,o]=a.useState(!1),[d,n]=a.useState(""),[w,F]=a.useState(""),[u,N]=a.useState(""),[x,y]=a.useState([]),[p,C]=a.useState([]),m=async()=>{const s=await U();s.status===200?C(s.data.faqTabs):console.log(s)};a.useEffect(()=>{m()},[]);const S=async s=>{s.preventDefault();try{const t={title:u};await j.validate(t,{abortEarly:!1});const r=await H(t);r.status===200?(l(!1),i.success(r.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):(l(!1),i.error(r.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))}catch(t){console.error("Validation errors:",t.errors),y(t.errors)}},E=async s=>{s.preventDefault();try{const t={title:d,_id:w};await T.validate(t,{abortEarly:!1}),console.log(t);const r=await I(t);r.status===200?(m(),o(!1),i.success(r.msg,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})):(o(!1),i.error(r.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))}catch(t){console.log("Error message:",t)}};return e.jsxs(e.Fragment,{children:[e.jsx(h,{state:q,setState:l,children:e.jsxs("form",{className:"flex flex-col space-y-3",children:[e.jsx("h1",{className:"font-semibold",children:"Create FAQ Tab"}),e.jsx(f,{width:"full",name:"title",title:"Faq Tab Title",iscompulsory:"true",type:"text",value:u,onChange:s=>N(s.target.value),error:!!x.includes("Title is required"),errormessage:"Title is Required",placeholder:"Enter Faq Tab Title"}),e.jsx("button",{onClick:S,type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-full bg-b3",children:e.jsxs("a",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Create"}),e.jsx(b,{className:"text-2xl"})]})})]})}),e.jsx(h,{state:v,setState:o,children:e.jsxs("form",{className:"flex flex-col space-y-3",children:[e.jsx("h1",{className:"font-semibold",children:"Update FAQ Tab"}),e.jsx(f,{width:"full",name:"title",title:"Faq Tab Title",iscompulsory:"true",type:"text",value:d,onChange:s=>n(s.target.value),error:!!x.includes("Title is required"),errormessage:"Title is Required",placeholder:"Enter Faq Tab Title"}),e.jsx("button",{onClick:E,type:"submit",className:"flex justify-center items-center cursor-pointer rounded-md py-1 w-full bg-b3",children:e.jsxs("a",{className:"flex items-center text-center  w-fit px-4 py-1 rounded-md text-white font-semibold",children:[e.jsx("span",{className:"text-xs",children:"Update"}),e.jsx(b,{className:"text-2xl"})]})})]})}),e.jsxs(P,{children:[e.jsx("div",{className:"flex mb-5 py-3 rounded-3xl px-10 w-full",children:e.jsx("div",{className:"flex w-full justify-end space-x-3",children:e.jsx(k,{onClick:()=>l(!0),className:"text-b3 text-3xl shadow-xl rounded-full cursor-pointer"})})}),e.jsx("div",{className:"grid grid-cols-3 gap-x-3 ",children:p.length>0?p.map((s,t)=>e.jsx("div",{className:"tab-buttons maxlg:order-2 w-full flex flex-col gap-2 mb-2",children:e.jsxs("div",{className:"p-2 xl:p-3 xl:text-sm font-semibold flex justify-between items-center text-left border border-[rgba(0,0,0,0.15)] rounded-2xl text-b23",children:[e.jsx("span",{className:"w-96",children:s.title}),e.jsxs("div",{className:"flex w-full space-x-1",children:[e.jsx("span",{className:"p-2 bg-b6 hover:bg-white border-b3 border-2  rounded-full cursor-pointer group",children:e.jsx(A,{onClick:()=>{o(!0),n(s.title),F(s._id)},className:"text-white group-hover:text-b3 text-lg shadow-xl"})}),e.jsx(O,{to:`/admin/create-faq/${s.slug}`,className:"p-2 bg-b6 hover:bg-white border-b3 border-2  rounded-full cursor-pointer group",children:e.jsx(B,{className:"text-white group-hover:text-b3 text-lg shadow-xl"})})]})]})},t)):e.jsx("h1",{children:"No FAQ Tabs Found!"})})]})]})};export{_ as default};
