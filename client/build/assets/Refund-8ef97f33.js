import{p as A,q as c,bG as I,r as a,j as e,M as O,C as S,cc as $,bN as B,cd as H,v as U,ce as V,w as i,cf as G,cg as T}from"./index-85fc7955.js";import{B as Y}from"./BackHome-0da4d1a8.js";const Q=()=>{const L=A().shape({orderNo:c().required("Order No Email is Required!"),name:c().required("Name is Required!"),email:c().required("Email is Required!"),phone:c().required("Phone No is Required!"),amount:c().required("Refund Amount is Required!"),medias:I().nullable()}),d=a.useRef(null),[m,v]=a.useState(""),[x,w]=a.useState(""),[h,y]=a.useState(""),[p,k]=a.useState(""),[b,R]=a.useState(""),[o,f]=a.useState([]),[q,g]=a.useState(!1),[P,j]=a.useState(""),F=async(s,n,t)=>{s.preventDefault(),console.log(t);let r=t;j(n);const l=await V({url:r});if(console.log(l),l.status===200){const N=o.filter(M=>M.data!==r);f(N),j(""),i("Media Removed!","success",1e3)}else j(""),i(l.data.message,"error",1e3)},_=async s=>{const n=s.target.files[0];let t;if(n.type.includes("image")?t="images":n.type.includes("video")?t="videos":i("Invalid Media Format (Image Or Video)","error",1e3),(t==null?void 0:t.length)>0){g(!0);const r=new FormData;r.append("media",n),r.append("location",`refunds/${t}/`);const l=await G(r);l.status===200?(g(!1),f([...o,{type:t,data:l.data.url}]),d.current.value=""):(d.current.value="",i(l.data.message,"error",1e3),g(!1))}},[D,u]=a.useState(!1),[z,C]=a.useState([]),E=async s=>{s.preventDefault(),u(!0);try{await L.validate({orderNo:m,name:x,email:h,phone:p,amount:b,medias:o},{abortEarly:!1})}catch(r){if(u(!1),r){let l=r.errors;C(l),l.forEach(N=>{i(N,"error",1e3)})}else C([])}const t=await T({orderNo:m,email:h,name:x,phone:p,amount:b,media:o});t.status===200?(u(!1),v(""),w(""),y(""),k(""),R(""),f([]),i(t.data.msg,"success",1e3)):(u(!1),i(t.data.message,"error",1e3))};return e.jsx(O,{children:e.jsxs("div",{className:"py-10 lg:py-16 xl:py-20 maincontainer",children:[e.jsx(Y,{className:"md:hidden mb-10"}),e.jsxs("div",{className:"hidden md:flex items-center",children:[e.jsx("h5",{className:"text-xs text-b3",children:"Home"}),e.jsx(S,{className:"text-xl text-b19"}),e.jsx("h5",{className:"text-xs text-b3",children:"Help & Support Center"}),e.jsx(S,{className:"text-xl text-b19"}),e.jsx("h5",{className:"text-xs text-black",children:"Refund"})]}),e.jsxs("div",{className:"max-w-[960px] pt-20 mx-auto",children:[e.jsx("h1",{className:"text-32px maxmd:text-center font-bold text-b16",children:"Refund"}),e.jsxs("p",{className:"leading-8 text-b18 -tracking-032 my-10",children:["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vestibulum metus vel urna tempor auctor. Pellentesque varius lacus at nisl tincidunt fringilla.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vestibulum metus vLorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vestibulum metus vel urna tempor auctor. Pellentesque varius lacus at nisl tincidunt fringilla.Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vestibulum metus v",e.jsx("br",{}),e.jsx("br",{}),"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent vestibulum metus vel urna tempor auctor. Pellentesque varius lacus at nisl tincidunt fringilla."]}),e.jsxs("div",{className:"rounded-2xl bg-b8 p-10",children:[e.jsx("h3",{className:"text-b18 text-xl font-semibold mb-8",children:"Order Details"}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"order_id",className:"block text-xs text-b18/50 mb-2 font-bold",children:"Order ID"}),e.jsx("input",{type:"text",value:m,onChange:s=>v(s.target.value),name:"order_id",className:"w-full bg-white h-10 rounded-lg text-black px-4 text-xs outline-none",placeholder:"fq34-D10M02Y2023"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"name",className:"block text-xs text-b18/50 mb-2 font-bold",children:"Name"}),e.jsx("input",{type:"text",value:x,onChange:s=>w(s.target.value),name:"name",className:"w-full bg-white h-10 rounded-lg text-black px-4 text-xs outline-none",placeholder:"Full name"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"email_adress",className:"block text-xs text-b18/50 mb-2 font-bold",children:"Email Address"}),e.jsx("input",{type:"email",value:h,onChange:s=>y(s.target.value),name:"email_adress",className:"w-full bg-white h-10 rounded-lg text-black px-4 text-xs outline-none",placeholder:"yourusername@email.com"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"phone_no",className:"block text-xs text-b18/50 mb-2 font-bold",children:"Phone Number"}),e.jsx("input",{type:"number",value:p,onChange:s=>k(s.target.value),name:"phone_no",className:"w-full bg-white h-10 rounded-lg text-black px-4 text-xs outline-none",placeholder:"yourusername@email.com"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("label",{htmlFor:"refund_amount",className:"block text-xs text-b18/50 mb-2 font-bold",children:"Enter Refund Amount"}),e.jsx("input",{type:"number",value:b,onChange:s=>R(s.target.value),name:"refund_amount",className:"w-full bg-white h-10 rounded-lg text-black px-4 text-xs outline-none",placeholder:"$35"})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("div",{className:"block text-xs text-b18/50 mb-2 font-bold",children:"Upload a Photo or Video (optional)"}),e.jsx("div",{className:"relative flex bg-white rounded-xl w-full h-80",children:o.length>0||q?e.jsxs("div",{className:"flex flex-wrap gap-x-10 gap-y-5 px-5 mr-1 w-full py-5 h-80 overflow-x-hidden overflow-y-scroll",children:[o.map(s=>e.jsxs("div",{className:"relative",children:[e.jsx("span",{onClick:n=>F(n,s._id,s.data),className:"absolute cursor-pointer right-0 -top-1",children:e.jsx($,{className:"text-red-500"})}),P===s.data?e.jsx("div",{className:"absolute flex justify-center items-center h-24 w-24 py-2",children:e.jsx("img",{src:"/del-loader.gif",className:"w-32 rounded-md h-24"})}):null,s.type==="images"?e.jsx("div",{className:"border-[1px] border-b31 px-2 py-2 rounded-xl h-fit w-fit",children:e.jsx("img",{src:s.data,className:"w-20 h-20"})}):e.jsx("video",{src:s.data,className:"w-40 rounded-xl h-[90px]",controls:!0})]})),q?e.jsx("div",{className:"flex justify-center items-center h-24 w-24 border-[1px] rounded-md border-blue-500 px-2 py-2",children:e.jsx("img",{src:"/file-loader.gif",className:"w-12 h-12"})}):null,e.jsx("div",{onClick:()=>d.current.click(),className:"cursor-pointer flex justify-center items-center border-[1px] rounded-md border-b6 w-24 h-24 px-2 py-2",children:e.jsx(B,{className:"text-b6 text-5xl"})})]}):e.jsx("div",{className:"flex w-full justify-center items-center",children:e.jsxs("label",{htmlFor:"fileInput",className:"image_video_section w-full h-[208px] bg-white rounded-lg xy-center flex-col gap-3",children:[e.jsx("span",{onClick:()=>d.current.click(),className:"shadow-md cursor-pointer w-16 h-16 rounded-full xy-center bg-b3/10",children:e.jsx(H,{className:"h-8 w-8 text-b3 "})}),e.jsx("span",{className:"text-b18 text-xs",children:"Select a picture or video to upload"})]})})}),e.jsx("input",{ref:d,hidden:!0,type:"file",accept:"image/*, video/*",onChange:_,className:"mb-2"})]}),e.jsx("button",{type:"button",onClick:s=>E(s),className:"px-4 py-3 text-xs font-medium text-white bg-b3 w-full rounded-lg",children:D?e.jsx(U,{style:"w-5"}):"Submit"})]})]})]})})};export{Q as default};
